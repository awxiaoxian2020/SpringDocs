<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.12">
<meta name="author" content="Stephane Nicoll, Andy Wilkinson, Scott Frederick">
<title>Spring Boot Maven Plugin Documentation</title>
<link rel="stylesheet" href="css/site.css">
<script src="js/setup.js"></script><script defer src="js/site.js"></script>

</head>
<body class="book toc2 toc-left"><div id="banner-container" class="container" role="banner">
  <div id="banner" class="contained" role="banner">
    <div id="switch-theme">
      <input type="checkbox" id="switch-theme-checkbox" />
      <label for="switch-theme-checkbox">Dark Theme</label>
    </div>
  </div>
</div>
<div id="tocbar-container" class="container" role="navigation">
  <div id="tocbar" class="contained" role="navigation">
    <button id="toggle-toc"></button>
  </div>
</div>
<div id="main-container" class="container">
  <div id="main" class="contained">
    <div id="doc" class="doc">
<div id="header">
<h1>Spring Boot Maven Plugin Documentation</h1>
<div class="details">
<span id="author" class="author">Stephane Nicoll, Andy Wilkinson, Scott Frederick</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction">1. 介绍</a></li>
<li><a href="#getting-started">2. 入门</a></li>
<li><a href="#using">3. 使用插件</a>
<ul class="sectlevel2">
<li><a href="#using-parent-pom">3.1. 继承 Starter Parent</a></li>
<li><a href="#using-import">3.2. 不使用父 POM</a></li>
<li><a href="#using-overriding-command-line">3.3. 通过命令行重写配置</a></li>
</ul>
</li>
<li><a href="#goals">4. 目标</a></li>
<li><a href="#repackage">5. 打包可执行文件</a>
<ul class="sectlevel2">
<li><a href="#repackage-layers">5.1. Jars 分层</a>
<ul class="sectlevel3">
<li><a href="#repackage-layers-configuration">5.1.1. 自定义层的配置</a></li>
</ul>
</li>
<li><a href="#goals-repackage">5.2. <code>spring-boot:repackage</code></a>
<ul class="sectlevel3">
<li><a href="#goals-repackage-parameters-required">5.2.1. Required parameters</a></li>
<li><a href="#goals-repackage-parameters-optional">5.2.2. Optional parameters</a></li>
<li><a href="#goals-repackage-parameters-details">5.2.3. Parameter details</a>
<ul class="sectlevel4">
<li><a href="#goals-repackage-parameters-details-attach"><code>attach</code></a></li>
<li><a href="#goals-repackage-parameters-details-classifier"><code>classifier</code></a></li>
<li><a href="#goals-repackage-parameters-details-embeddedLaunchScript"><code>embeddedLaunchScript</code></a></li>
<li><a href="#goals-repackage-parameters-details-embeddedLaunchScriptProperties"><code>embeddedLaunchScriptProperties</code></a></li>
<li><a href="#goals-repackage-parameters-details-excludeDevtools"><code>excludeDevtools</code></a></li>
<li><a href="#goals-repackage-parameters-details-excludeGroupIds"><code>excludeGroupIds</code></a></li>
<li><a href="#goals-repackage-parameters-details-excludes"><code>excludes</code></a></li>
<li><a href="#goals-repackage-parameters-details-executable"><code>executable</code></a></li>
<li><a href="#goals-repackage-parameters-details-includeSystemScope"><code>includeSystemScope</code></a></li>
<li><a href="#goals-repackage-parameters-details-includes"><code>includes</code></a></li>
<li><a href="#goals-repackage-parameters-details-layers"><code>layers</code></a></li>
<li><a href="#goals-repackage-parameters-details-layout"><code>layout</code></a></li>
<li><a href="#goals-repackage-parameters-details-layoutFactory"><code>layoutFactory</code></a></li>
<li><a href="#goals-repackage-parameters-details-mainClass"><code>mainClass</code></a></li>
<li><a href="#goals-repackage-parameters-details-outputDirectory"><code>outputDirectory</code></a></li>
<li><a href="#goals-repackage-parameters-details-outputTimestamp"><code>outputTimestamp</code></a></li>
<li><a href="#goals-repackage-parameters-details-requiresUnpack"><code>requiresUnpack</code></a></li>
<li><a href="#goals-repackage-parameters-details-skip"><code>skip</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#repackage-examples">5.3. 示例</a>
<ul class="sectlevel3">
<li><a href="#repackage-example-custom-classifier">5.3.1. 自定义 Classifier</a></li>
<li><a href="#repackage-example-custom-name">5.3.2. 自定义名称</a></li>
<li><a href="#repackage-example-local-artifact">5.3.3. 本地 Repackaged Artifact</a></li>
<li><a href="#repackage-example-custom-layout">5.3.4. 自定义布局</a></li>
<li><a href="#repackage-example-exclude-dependency">5.3.5. Dependency 排除</a></li>
<li><a href="#repackage-layered-jars-tools">5.3.6. Layered Jar Tools</a></li>
<li><a href="#repackage-layered-jars-additional-layers">5.3.7. Custom Layers Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#build-image">6. 打包 OCI 镜像</a>
<ul class="sectlevel2">
<li><a href="#build-image-docker-daemon">6.1. Docker Daemon</a></li>
<li><a href="#build-image-docker-registry">6.2. Docker Registry</a></li>
<li><a href="#build-image-customization">6.3. Image Customizations</a></li>
<li><a href="#goals-build-image">6.4. <code>spring-boot:build-image</code></a>
<ul class="sectlevel3">
<li><a href="#goals-build-image-parameters-required">6.4.1. Required parameters</a></li>
<li><a href="#goals-build-image-parameters-optional">6.4.2. Optional parameters</a></li>
<li><a href="#goals-build-image-parameters-details">6.4.3. Parameter details</a>
<ul class="sectlevel4">
<li><a href="#goals-build-image-parameters-details-classifier"><code>classifier</code></a></li>
<li><a href="#goals-build-image-parameters-details-docker"><code>docker</code></a></li>
<li><a href="#goals-build-image-parameters-details-excludeDevtools"><code>excludeDevtools</code></a></li>
<li><a href="#goals-build-image-parameters-details-excludeGroupIds"><code>excludeGroupIds</code></a></li>
<li><a href="#goals-build-image-parameters-details-excludes"><code>excludes</code></a></li>
<li><a href="#goals-build-image-parameters-details-image"><code>image</code></a></li>
<li><a href="#goals-build-image-parameters-details-includeSystemScope"><code>includeSystemScope</code></a></li>
<li><a href="#goals-build-image-parameters-details-includes"><code>includes</code></a></li>
<li><a href="#goals-build-image-parameters-details-layers"><code>layers</code></a></li>
<li><a href="#goals-build-image-parameters-details-mainClass"><code>mainClass</code></a></li>
<li><a href="#goals-build-image-parameters-details-skip"><code>skip</code></a></li>
<li><a href="#goals-build-image-parameters-details-sourceDirectory"><code>sourceDirectory</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#build-image-examples">6.5. 示例</a>
<ul class="sectlevel3">
<li><a href="#build-image-example-custom-image-builder">6.5.1. Custom Image Builder</a></li>
<li><a href="#build-image-example-builder-configuration">6.5.2. 构建器配置</a></li>
<li><a href="#build-image-example-runtime-jvm-configuration">6.5.3. Runtime JVM Configuration</a></li>
<li><a href="#build-image-example-custom-image-name">6.5.4. 自定义镜像名称</a></li>
<li><a href="#build-image-example-publish">6.5.5. Image Publishing</a></li>
<li><a href="#build-image-example-docker">6.5.6. Docker 配置</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#run">7. 使用 Maven 运行你的应用程序</a>
<ul class="sectlevel2">
<li><a href="#goals-run">7.1. <code>spring-boot:run</code></a>
<ul class="sectlevel3">
<li><a href="#goals-run-parameters-required">7.1.1. Required parameters</a></li>
<li><a href="#goals-run-parameters-optional">7.1.2. Optional parameters</a></li>
<li><a href="#goals-run-parameters-details">7.1.3. Parameter details</a>
<ul class="sectlevel4">
<li><a href="#goals-run-parameters-details-addResources"><code>addResources</code></a></li>
<li><a href="#goals-run-parameters-details-agents"><code>agents</code></a></li>
<li><a href="#goals-run-parameters-details-arguments"><code>arguments</code></a></li>
<li><a href="#goals-run-parameters-details-classesDirectory"><code>classesDirectory</code></a></li>
<li><a href="#goals-run-parameters-details-commandlineArguments"><code>commandlineArguments</code></a></li>
<li><a href="#goals-run-parameters-details-directories"><code>directories</code></a></li>
<li><a href="#goals-run-parameters-details-environmentVariables"><code>environmentVariables</code></a></li>
<li><a href="#goals-run-parameters-details-excludeGroupIds"><code>excludeGroupIds</code></a></li>
<li><a href="#goals-run-parameters-details-excludes"><code>excludes</code></a></li>
<li><a href="#goals-run-parameters-details-folders"><code>folders</code></a></li>
<li><a href="#goals-run-parameters-details-fork"><code>fork</code></a></li>
<li><a href="#goals-run-parameters-details-includes"><code>includes</code></a></li>
<li><a href="#goals-run-parameters-details-jvmArguments"><code>jvmArguments</code></a></li>
<li><a href="#goals-run-parameters-details-mainClass"><code>mainClass</code></a></li>
<li><a href="#goals-run-parameters-details-noverify"><code>noverify</code></a></li>
<li><a href="#goals-run-parameters-details-optimizedLaunch"><code>optimizedLaunch</code></a></li>
<li><a href="#goals-run-parameters-details-profiles"><code>profiles</code></a></li>
<li><a href="#goals-run-parameters-details-skip"><code>skip</code></a></li>
<li><a href="#goals-run-parameters-details-systemPropertyVariables"><code>systemPropertyVariables</code></a></li>
<li><a href="#goals-run-parameters-details-useTestClasspath"><code>useTestClasspath</code></a></li>
<li><a href="#goals-run-parameters-details-workingDirectory"><code>workingDirectory</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#run-examples">7.2. 示例</a>
<ul class="sectlevel3">
<li><a href="#run-example-debug">7.2.1. 调试应用程序</a></li>
<li><a href="#run-example-system-properties">7.2.2. 使用系统属性</a></li>
<li><a href="#run-example-environment-variables">7.2.3. 使用环境变量</a></li>
<li><a href="#run-example-application-arguments">7.2.4. 使用应用程序参数</a></li>
<li><a href="#run-example-active-profiles">7.2.5. 指定激活的 Profiles</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#integration-tests">8. 在集成测试中运行</a>
<ul class="sectlevel2">
<li><a href="#integration-tests-no-starter-parent">8.1. 在没有 Spring Boot 的 Parent POM 的情况下使用故障保护</a></li>
<li><a href="#goals-start">8.2. <code>spring-boot:start</code></a>
<ul class="sectlevel3">
<li><a href="#goals-start-parameters-required">8.2.1. 必要参数</a></li>
<li><a href="#goals-start-parameters-optional">8.2.2. 可选参数</a></li>
<li><a href="#goals-start-parameters-details">8.2.3. Parameter details</a>
<ul class="sectlevel4">
<li><a href="#goals-start-parameters-details-addResources"><code>addResources</code></a></li>
<li><a href="#goals-start-parameters-details-agents"><code>agents</code></a></li>
<li><a href="#goals-start-parameters-details-arguments"><code>arguments</code></a></li>
<li><a href="#goals-start-parameters-details-classesDirectory"><code>classesDirectory</code></a></li>
<li><a href="#goals-start-parameters-details-commandlineArguments"><code>commandlineArguments</code></a></li>
<li><a href="#goals-start-parameters-details-directories"><code>directories</code></a></li>
<li><a href="#goals-start-parameters-details-environmentVariables"><code>environmentVariables</code></a></li>
<li><a href="#goals-start-parameters-details-excludeGroupIds"><code>excludeGroupIds</code></a></li>
<li><a href="#goals-start-parameters-details-excludes"><code>excludes</code></a></li>
<li><a href="#goals-start-parameters-details-folders"><code>folders</code></a></li>
<li><a href="#goals-start-parameters-details-fork"><code>fork</code></a></li>
<li><a href="#goals-start-parameters-details-includes"><code>includes</code></a></li>
<li><a href="#goals-start-parameters-details-jmxName"><code>jmxName</code></a></li>
<li><a href="#goals-start-parameters-details-jmxPort"><code>jmxPort</code></a></li>
<li><a href="#goals-start-parameters-details-jvmArguments"><code>jvmArguments</code></a></li>
<li><a href="#goals-start-parameters-details-mainClass"><code>mainClass</code></a></li>
<li><a href="#goals-start-parameters-details-maxAttempts"><code>maxAttempts</code></a></li>
<li><a href="#goals-start-parameters-details-noverify"><code>noverify</code></a></li>
<li><a href="#goals-start-parameters-details-profiles"><code>profiles</code></a></li>
<li><a href="#goals-start-parameters-details-skip"><code>skip</code></a></li>
<li><a href="#goals-start-parameters-details-systemPropertyVariables"><code>systemPropertyVariables</code></a></li>
<li><a href="#goals-start-parameters-details-useTestClasspath"><code>useTestClasspath</code></a></li>
<li><a href="#goals-start-parameters-details-wait"><code>wait</code></a></li>
<li><a href="#goals-start-parameters-details-workingDirectory"><code>workingDirectory</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#goals-stop">8.3. <code>spring-boot:stop</code></a>
<ul class="sectlevel3">
<li><a href="#goals-stop-parameters-optional">8.3.1. 可选参数</a></li>
<li><a href="#goals-stop-parameters-details">8.3.2. 参数细节</a>
<ul class="sectlevel4">
<li><a href="#goals-stop-parameters-details-fork"><code>fork</code></a></li>
<li><a href="#goals-stop-parameters-details-jmxName"><code>jmxName</code></a></li>
<li><a href="#goals-stop-parameters-details-jmxPort"><code>jmxPort</code></a></li>
<li><a href="#goals-stop-parameters-details-skip"><code>skip</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#integration-tests-example">8.4. 示例</a>
<ul class="sectlevel3">
<li><a href="#integration-tests-example-random-port">8.4.1. 使用随机端口进行集成测试</a></li>
<li><a href="#integration-tests-example-jmx-port">8.4.2. 自定义 JMX 端口</a></li>
<li><a href="#integration-tests-example-skip">8.4.3. 跳过集成测试</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#build-info">9. 集成 Actuator</a>
<ul class="sectlevel2">
<li><a href="#goals-build-info">9.1. <code>spring-boot:build-info</code></a>
<ul class="sectlevel3">
<li><a href="#goals-build-info-parameters-optional">9.1.1. Optional parameters</a></li>
<li><a href="#goals-build-info-parameters-details">9.1.2. Parameter details</a>
<ul class="sectlevel4">
<li><a href="#goals-build-info-parameters-details-additionalProperties"><code>additionalProperties</code></a></li>
<li><a href="#goals-build-info-parameters-details-outputFile"><code>outputFile</code></a></li>
<li><a href="#goals-build-info-parameters-details-time"><code>time</code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#help">10. Help 信息</a>
<ul class="sectlevel2">
<li><a href="#goals-help">10.1. <code>spring-boot:help</code></a>
<ul class="sectlevel3">
<li><a href="#goals-help-parameters-optional">10.1.1. Optional parameters</a></li>
<li><a href="#goals-help-parameters-details">10.1.2. Parameter details</a>
<ul class="sectlevel4">
<li><a href="#goals-help-parameters-details-detail"><code>detail</code></a></li>
<li><a href="#goals-help-parameters-details-goal"><code>goal</code></a></li>
<li><a href="#goals-help-parameters-details-indentSize"><code>indentSize</code></a></li>
<li><a href="#goals-help-parameters-details-lineLength"><code>lineLength</code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>1. 介绍</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Spring Boot Maven 插件在  <a href="https://maven.org">Apache Maven</a> 中提供了对 Spring Boot 支持. 它允许您打包可执行的 jar 或 war 文件,运行 Spring Boot 应用程序,生成构建信息以及在运行集成测试之前启动 Spring Boot 应用程序.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started"><a class="anchor" href="#getting-started"></a>2. 入门</h2>
<div class="sectionbody">
<div class="paragraph">
<p>要使用 Spring Boot Maven 插件,请在 <code>pom.xml</code> 的 <code>plugins</code> 部分中包含适当的 XML,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;!-- ... --&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果使用里程碑或快照版本,则还需要添加适当的 <code>pluginRepository</code> 元素,如下所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;pluginRepositories&gt;
    &lt;pluginRepository&gt;
        &lt;id&gt;spring-snapshots&lt;/id&gt;
        &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;
    &lt;/pluginRepository&gt;
    &lt;pluginRepository&gt;
        &lt;id&gt;spring-milestones&lt;/id&gt;
        &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;
    &lt;/pluginRepository&gt;
&lt;/pluginRepositories&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using"><a class="anchor" href="#using"></a>3. 使用插件</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Maven 用户可以继承 <code>spring-boot-starter-parent</code> 项目以获取合适的默认值,父项目提供了以下功能:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Java 1.8 作为默认编译器.</p>
</li>
<li>
<p>源代码使用 UTF-8 编码.</p>
</li>
<li>
<p>using-boot-dependency-management,依赖管理部分, 继承自 <code>spring-boot-dependencies</code> 的 POM,允许您省略常见依赖的 <code>&lt;version&gt;</code> 标签.</p>
</li>
<li>
<p>执行  <code>repackage</code> id 重新执行 <a href="#goals-repackage"><code>repackage</code> goal</a></p>
</li>
<li>
<p>合理的 <a href="https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html">资源过滤</a>.</p>
</li>
<li>
<p>合适的插件配置 (<a href="https://www.mojohaus.org/exec-maven-plugin/">exec plugin</a>, <a href="https://github.com/ktoso/maven-git-commit-id-plugin">Git commit ID</a>, and <a href="https://maven.apache.org/plugins/maven-shade-plugin/">shade</a>).</p>
</li>
<li>
<p>对 <code>application.properties</code> 和 <code>application.yml</code> 资源的合理过滤,包括特定 profile 的文件(例如 , <code>application-dev.properties</code> 和 <code>application-dev.yml</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>注意: 由于 <code>application.properties</code> 和 <code>application.yml</code> 文件接受 Spring 风格的占位符 (<code>${&#8230;&#8203;}</code>) ,因此 Maven 改为使用 <code>@..@</code> 占位符 (您可以使用 Maven 的 <code>resource.delimiter</code> 属性重写它)</p>
</div>
<div class="sect2">
<h3 id="using-parent-pom"><a class="anchor" href="#using-parent-pom"></a>3.1. 继承 Starter Parent</h3>
<div class="paragraph">
<p>配置项目继承 <code>spring-boot-starter-parent</code>,只需要按以下方式设置 <code>parent</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- Inherit defaults from Spring Boot --&gt;
&lt;parent&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
    &lt;version&gt;2.4.5&lt;/version&gt;
&lt;/parent&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
您只需要在此依赖上指定 Spring Boot 的版本号. 如果您要导入其它 starter,则可以放心地省略版本号.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>通过该设置,您还可以重写自己项目中的配置属性来覆盖个别依赖. 例如,要升级到另一个 SLF4J 库和 Spring Data 发行版本,您需要将以下内容添加到 <code>pom.xml</code> 文件中.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;properties&gt;
    &lt;slf4j.version&gt;1.7.30&lt;/slf4j.version&gt;
    &lt;spring-data-releasetrain.version&gt;Moore-SR6&lt;/spring-data-releasetrain.version&gt;
&lt;/properties&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>查看 <a href="https://docs.jcohy.com/docs/spring-boot/2.4.5/html5/zh-cn/reference/htmlsingle/#dependency-versions-properties"><code>Dependency versions Appendix</code></a> 获取等多的版本依赖关系.</p>
</div>
</div>
<div class="sect2">
<h3 id="using-import"><a class="anchor" href="#using-import"></a>3.2. 不使用父 POM</h3>
<div class="paragraph">
<p>不是每个人都喜欢从 <code>spring-boot-starter-parent</code> 继承 POM. 您可能需要使用自己公司标准的父 POM,或者您可能只是希望明确地声明所有 Maven 配置.</p>
</div>
<div class="paragraph">
<p>如果您不想使用 <code>spring-boot-starter-parent</code>,则仍然可以通过使用 `import`scope 依赖来获得依赖管理 (但不是插件管理) 的好处:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependencyManagement&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;!-- Import dependency management from Spring Boot --&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;
            &lt;version&gt;2.4.5&lt;/version&gt;
            &lt;type&gt;pom&lt;/type&gt;
            &lt;scope&gt;import&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/dependencyManagement&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>如上所述,上述示例设置不会让您使用属性来覆盖个别依赖. 要达到相同的目的,需要在 <code>spring-boot-dependencies</code> 项之前在项目的 <code>dependencyManagement</code> 中添加一项. 例如,要升级到另一个 SLF4J 库和 Spring Data 发行版,您可以将以下元素添加到 <code>pom.xml</code> 中:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependencyManagement&gt;
    &lt;dependencies&gt;
        &lt;!-- Override SLF4J provided by Spring Boot --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;
            &lt;version&gt;1.7.30&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!-- Override Spring Data release train provided by Spring Boot --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;
            &lt;artifactId&gt;spring-data-releasetrain&lt;/artifactId&gt;
            &lt;version&gt;2020.0.0-SR1&lt;/version&gt;
            &lt;type&gt;pom&lt;/type&gt;
            &lt;scope&gt;import&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;
            &lt;version&gt;2.4.5&lt;/version&gt;
            &lt;type&gt;pom&lt;/type&gt;
            &lt;scope&gt;import&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/dependencyManagement&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="using-overriding-command-line"><a class="anchor" href="#using-overriding-command-line"></a>3.3. 通过命令行重写配置</h3>
<div class="paragraph">
<p>使用 spring-boot,该插件提供了许多用户属性,可让您从命令行自定义配置.</p>
</div>
<div class="paragraph">
<p>例如,您可以调整配置文件以在运行应用程序时启用,如下所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mvn spring-boot:run -Dspring-boot.run.profiles=dev,local</pre>
</div>
</div>
<div class="paragraph">
<p>如果您希望同时拥有一个默认值,同时允许在命令行上覆盖它,那么您应该结合使用用户提供的项目属性和 MOJO 配置.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;properties&gt;
        &lt;app.profiles&gt;local,dev&lt;/app.profiles&gt;
    &lt;/properties&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;profiles&gt;${app.profiles}&lt;/profiles&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>以上内容确保默认情况下启用了 local  和 dev. 也可以在命令行中覆盖它:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mvn spring-boot:run -Dapp.profiles=test</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="goals"><a class="anchor" href="#goals"></a>4. 目标</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Spring Boot Plugin 有以下目标:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Goal</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-build-image">spring-boot:build-image</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">使用 buildpack 将应用程序打包到 OCI 镜像中.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-build-info">spring-boot:build-info</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">根据当前 <code>MavenProject</code> 的内容生成 <code>build-info.properties</code> 文件.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-help">spring-boot:help</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">在 spring-boot-maven-plugin 上显示帮助信息.  使用 <code>mvn spring-boot:help -Ddetail=true -Dgoal=&lt;goal-name&gt;</code> 以显示参数详细信息..</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-repackage">spring-boot:repackage</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">重新打包现有的 JAR 和 WAR 归档文件,  以便可以使用 <code>java -jar</code> 在命令行中执行它们.  使用 <code>layout=NONE</code> 也可以简单地用于打包具有嵌套依赖关系的 JAR (没有主类不能执行) .</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-run">spring-boot:run</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">运行应用程序.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start">spring-boot:start</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">启动 spring 应用程序.  与 <code>run</code>  goal 相反,  这不会阻止并允许其他 goal 在应用程序上运行.  此 goal 通常用于集成测试方案中,  在该方案中,  应用程序在测试套件之前启动,  而在测试套件之后停止.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-stop">spring-boot:stop</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">停止已通过 "start" 目标启动的应用程序.  通常在测试套件完成后调用.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="repackage"><a class="anchor" href="#repackage"></a>5. 打包可执行文件</h2>
<div class="sectionbody">
<div class="paragraph">
<p>该插件可以创建包含应用程序所有依赖的可执行文件 (jar 文件和 war 文件) ,然后可以使用 <code>java -jar</code> 运行.</p>
</div>
<div class="paragraph">
<p>打包可执行文件是由重 <code>repackage</code> 目标执行的,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;repackage&lt;/goal&gt;
                    &lt;/goals&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
如果您使用的是 <code>spring-boot-starter-parent</code>,则已经使用 <code>repackage</code> 执行 ID 预配置了此类执行,因此只需要添加插件定义.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>上面的示例重新打包了在 Maven 生命周期的打包阶段构建的 jar 或 war ,包括在项目中定义的 <code>provided</code>  所有依赖. 如果其中一些依赖需要排除,则可以使用 <code>exclude</code> 选项之一;  有关更多详细信息,请参见 <a href="#repackage-example-exclude-dependency">依赖排除</a> .</p>
</div>
<div class="paragraph">
<p>默认情况下,原始 (即不可执行) artifact 被重命名为 <code>.original</code>,但是也可以使用自定义 classifier 保留原始 artifact.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
当前不支持 <code>maven-war-plugin</code> 的 <code>outputFileNameMapping</code> 功能.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>默认情况下,会自动排除 Devtools (您可以使用 <code>excludeDevtools</code> 属性进行控制) . 为了使它与 <code>war</code> 打包一起使用,必须将 <code>spring-boot-devtools</code> 依赖设置为`optional`  或具有 <code>provided</code>  的作用域.</p>
</div>
<div class="paragraph">
<p>该插件将重写清单,尤其是它管理 <code>Main-Class</code> 和 <code>Start-Class</code>. 如果默认设置不起作用,则必须在 Spring Boot 插件中配置值,而不是在 <code>jar</code> 插件中配置值. 清单中的 <code>Main-Class</code> 由 Spring Boot 插件的 <code>layout</code> 属性控制,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
            &lt;configuration&gt;
                &lt;mainClass&gt;${start.class}&lt;/mainClass&gt;
                &lt;layout&gt;ZIP&lt;/layout&gt;
            &lt;/configuration&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;repackage&lt;/goal&gt;
                    &lt;/goals&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>layout</code> 属性默认为由 archive 类型( jar 或 war )确定的值.以下是可用的布局:(<code>jar</code> or <code>war</code>). 以下布局可用:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>JAR</code>: 常规的可执行 JAR 布局.</p>
</li>
<li>
<p><code>WAR</code>: 可执行的 WAR 布局. <code>provided</code> 依赖放在 <code>WEB-INF/lib-provided</code> 中,以避免在将 <code>war</code>  部署到 servlet 容器中时发生任何冲突.</p>
</li>
<li>
<p><code>ZIP</code> (又名 <code>DIR</code>): 与使用 <code>PropertiesLauncher</code> 的 <code>JAR</code> 布局相似.</p>
</li>
<li>
<p><code>NONE</code>: 捆绑所有依赖和项目资源.不捆绑引导加载程序.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="repackage-layers"><a class="anchor" href="#repackage-layers"></a>5.1. Jars 分层</h3>
<div class="paragraph">
<p>重新打包的 jar 分别在 <code>BOOT-INF/classes</code> 和 <code>BOOT-INF/lib</code> 中包含应用程序的类和依赖. 对于需要从 jar 的内容中构建 docker 镜像的情况,能够进一步分隔这些目录以便将它们写入不同的层中很有用.</p>
</div>
<div class="paragraph">
<p>分层的 jar 使用与常规重新打包的 jar 相同的布局,但是包括了描述每个层的附加元数据文件.</p>
</div>
<div class="paragraph">
<p>默认情况下,定义了以下层:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>dependencies</code>:  包含所有的依赖,但不包括 <code>SNAPSHOT</code> 版本的依赖.</p>
</li>
<li>
<p><code>spring-boot-loader</code>:  用于加载 jar.</p>
</li>
<li>
<p><code>snapshot-dependencies</code>:  包含所有的 <code>SNAPSHOT</code> 版本依赖 .</p>
</li>
<li>
<p><code>application</code>:  应用程序类和资源.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>通过查看当前构建的所有模块来确定模块依赖关系. 如果一个模块依赖只能被解析, 因为它已经被安装到 Maven 的本地缓存中, 并且它不是当前构建的一部分, 那么它将被标识为常规依赖.</p>
</div>
<div class="paragraph">
<p>层的顺序很重要,因为它确定了部分应用程序更改时可以缓存先前的层的可能性. 默认顺序是 <code>dependencies</code>, <code>spring-boot-loader</code>, <code>snapshot-dependencies</code>, <code>application</code>. 应该首先添加最不可能更改的内容,然后添加有可能更改的层.</p>
</div>
<div class="paragraph">
<p>重新打包 jar 默认包含 <code>layers.idx</code> 文件. 禁用该特性的方法如下:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;layers&gt;
                        &lt;enabled&gt;false&lt;/enabled&gt;
                    &lt;/layers&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="repackage-layers-configuration"><a class="anchor" href="#repackage-layers-configuration"></a>5.1.1. 自定义层的配置</h4>
<div class="paragraph">
<p>根据您的应用程序,您可能想要调整层的创建方式和添加新层的方式.可以使用一个单独的配置文件来完成此操作,该文件应如下所示进行注册:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;layers&gt;
                        &lt;enabled&gt;true&lt;/enabled&gt;
                        &lt;configuration&gt;${project.basedir}/src/layers.xml&lt;/configuration&gt;
                    &lt;/layers&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>配置文件描述了如何将 jar 分为几层,以及这些层的顺序.下面的示例显示如何显式定义上述默认顺序:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;layers xmlns="http://www.springframework.org/schema/boot/layers"
                      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                      xsi:schemaLocation="http://www.springframework.org/schema/boot/layers
                      https://www.springframework.org/schema/boot/layers/layers-{spring-boot-xsd-version}.xsd"&gt;
    &lt;application&gt;
        &lt;into layer="spring-boot-loader"&gt;
            &lt;include&gt;org/springframework/boot/loader/**&lt;/include&gt;
        &lt;/into&gt;
        &lt;into layer="application" /&gt;
    &lt;/application&gt;
    &lt;dependencies&gt;
        &lt;into layer="application"&gt;
            &lt;includeModuleDependencies /&gt;
        &lt;/into&gt;
        &lt;into layer="snapshot-dependencies"&gt;
            &lt;include&gt;*:*:*SNAPSHOT&lt;/include&gt;
        &lt;/into&gt;
        &lt;into layer="dependencies" /&gt;
    &lt;/dependencies&gt;
    &lt;layerOrder&gt;
        &lt;layer&gt;dependencies&lt;/layer&gt;
        &lt;layer&gt;spring-boot-loader&lt;/layer&gt;
        &lt;layer&gt;snapshot-dependencies&lt;/layer&gt;
        &lt;layer&gt;application&lt;/layer&gt;
    &lt;/layerOrder&gt;
&lt;/layers&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>layers</code> XML 分为三部分:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;application&gt;</code> 定义应如何对应用程序类和资源进行分层.</p>
</li>
<li>
<p><code>&lt;dependencies&gt;</code> 定义应层之间的依赖关系.</p>
</li>
<li>
<p><code>&lt;layerOrder&gt;</code> 定义应写入层的顺序.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>嵌套的 <code>&lt;into&gt;</code> 用于 <code>&lt;application&gt;</code> 和 <code>&lt;dependencies&gt;</code> 中,以声明层的内容. 从上到下,按照定义的顺序评估. 较早的块未声明的任何内容仍然可供后续块使用.</p>
</div>
<div class="paragraph">
<p><code>&lt;into&gt;</code> 块使用嵌套的 <code>&lt;include&gt;</code> 和 <code>&lt;exclude&gt;</code> 元素声明内容. <code>&lt;application&gt;</code> 对 include/exclude  表达式使用 Ant 风格的匹配模式. <code>&lt;dependencies&gt;</code> 使用 <code>group:artifact[:version]</code> 模式.它还提供了 <code>&lt;includeModuleDependencies /&gt;</code> 和 <code>&lt;excludeModuleDependencies /&gt;</code> 元素, 可以用来包含或排除本地模块依赖.</p>
</div>
<div class="paragraph">
<p>如果未定义 <code>&lt;include&gt;</code>,则将考虑所有内容 (较早的块未声明) .</p>
</div>
<div class="paragraph">
<p>如果未定义 <code>&lt;exclude&gt;</code>,则不应用任何排除项.</p>
</div>
<div class="paragraph">
<p>查看上面的 <code>&lt;dependencies&gt;</code> 示例,我们可以看到第一个 <code>&lt;into&gt;</code> 将声明所有的项目依赖, 第二个 <code>&lt;into&gt;</code> 将为  <code>snapshot-dependencies</code>  声明所有快照依赖.  最后的 <code>&lt;into&gt;</code> 将声明 <code>dependencies</code> 层的所有剩余内容 (在这种情况下,不是 项目 或 SNAPSHOT 的任何依赖) .</p>
</div>
<div class="paragraph">
<p><code>&lt;application&gt;</code> 块具有相似的规则. 首先声明 <code>spring-boot-loader</code> 层的 <code>org/springframework/boot/loader/**</code>  内容. 然后为 <code>application</code> 层声明所有剩余的类和资源.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>&lt;into&gt;</code> 块的定义顺序通常与层的写入顺序不同. 因此,必须始终包含 <code>&lt;layerOrder&gt;</code> 元素,并且必须覆盖 <code>&lt;into&gt;</code> 块引用的所有层.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="goals-repackage"><a class="anchor" href="#goals-repackage"></a>5.2. <code>spring-boot:repackage</code></h3>
<div class="paragraph">
<p><code>org.springframework.boot:spring-boot-maven-plugin:2.4.5</code></p>
</div>
<div class="paragraph">
<p>重新打包现有的 JAR 和 WAR 归档文件,  以便可以使用 <code>java -jar</code> 在命令行中执行它们.  使用 <code>layout=NONE</code> 也可以简单地用于打包具有嵌套依赖关系的 JAR (没有主类不能执行) .</p>
</div>
<div class="sect3">
<h4 id="goals-repackage-parameters-required"><a class="anchor" href="#goals-repackage-parameters-required"></a>5.2.1. Required parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 25%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-repackage-parameters-details-outputDirectory">outputDirectory</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>File</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${project.build.directory}</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="goals-repackage-parameters-optional"><a class="anchor" href="#goals-repackage-parameters-optional"></a>5.2.2. Optional parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 25%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-repackage-parameters-details-attach">attach</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-repackage-parameters-details-classifier">classifier</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-repackage-parameters-details-embeddedLaunchScript">embeddedLaunchScript</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>File</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-repackage-parameters-details-embeddedLaunchScriptProperties">embeddedLaunchScriptProperties</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Properties</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-repackage-parameters-details-excludeDevtools">excludeDevtools</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-repackage-parameters-details-excludeGroupIds">excludeGroupIds</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-repackage-parameters-details-excludes">excludes</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>List</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-repackage-parameters-details-executable">executable</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-repackage-parameters-details-includeSystemScope">includeSystemScope</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-repackage-parameters-details-includes">includes</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>List</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-repackage-parameters-details-layers">layers</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://docs.jcohy.com/docs/spring-boot/2.4.5/html5/zh-cn/maven-plugin/api/org/springframework/boot/maven/Layers.html">Layers</a></code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-repackage-parameters-details-layout">layout</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://docs.jcohy.com/docs/spring-boot/2.4.5/html5/zh-cn/maven-plugin/api/org/springframework/boot/maven/AbstractPackagerMojo.LayoutType.html">LayoutType</a></code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-repackage-parameters-details-layoutFactory">layoutFactory</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://docs.jcohy.com/docs/spring-boot/2.4.5/html5/zh-cn/api/org/springframework/boot/loader/tools/LayoutFactory.html">LayoutFactory</a></code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-repackage-parameters-details-mainClass">mainClass</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-repackage-parameters-details-outputTimestamp">outputTimestamp</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${project.build.outputTimestamp}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-repackage-parameters-details-requiresUnpack">requiresUnpack</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>List</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-repackage-parameters-details-skip">skip</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="goals-repackage-parameters-details"><a class="anchor" href="#goals-repackage-parameters-details"></a>5.2.3. Parameter details</h4>
<div class="sect4">
<h5 id="goals-repackage-parameters-details-attach"><a class="anchor" href="#goals-repackage-parameters-details-attach"></a><code>attach</code></h5>
<div class="paragraph">
<p>Attach the repackaged archive to be installed into your local Maven repository or deployed to a remote repository. If no classifier has been configured, it will replace the normal jar. If a <code>classifier</code> has been configured such that the normal jar and the repackaged jar are different, it will be attached alongside the normal jar. When the property is set to <code>false</code>, the repackaged archive will not be installed or deployed.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>attach</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.4.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-repackage-parameters-details-classifier"><a class="anchor" href="#goals-repackage-parameters-details-classifier"></a><code>classifier</code></h5>
<div class="paragraph">
<p>Classifier to add to the repackaged archive. If not given, the main artifact will be replaced by the repackaged archive. If given, the classifier will also be used to determine the source archive to repackage: if an artifact with that classifier already exists, it will be used as source and replaced. If no such artifact exists, the main artifact will be used as source and the repackaged archive will be attached as a supplemental artifact with that classifier. Attaching the artifact allows to deploy it alongside to the original one, see $1[$2].</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>classifier</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-repackage-parameters-details-embeddedLaunchScript"><a class="anchor" href="#goals-repackage-parameters-details-embeddedLaunchScript"></a><code>embeddedLaunchScript</code></h5>
<div class="paragraph">
<p>The embedded launch script to prepend to the front of the jar if it is fully executable. If not specified the 'Spring Boot' default script will be used.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>embeddedLaunchScript</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.io.File</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-repackage-parameters-details-embeddedLaunchScriptProperties"><a class="anchor" href="#goals-repackage-parameters-details-embeddedLaunchScriptProperties"></a><code>embeddedLaunchScriptProperties</code></h5>
<div class="paragraph">
<p>Properties that should be expanded in the embedded launch script.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>embeddedLaunchScriptProperties</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.util.Properties</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-repackage-parameters-details-excludeDevtools"><a class="anchor" href="#goals-repackage-parameters-details-excludeDevtools"></a><code>excludeDevtools</code></h5>
<div class="paragraph">
<p>Exclude Spring Boot devtools from the repackaged archive.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>excludeDevtools</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.repackage.excludeDevtools</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-repackage-parameters-details-excludeGroupIds"><a class="anchor" href="#goals-repackage-parameters-details-excludeGroupIds"></a><code>excludeGroupIds</code></h5>
<div class="paragraph">
<p>Comma separated list of groupId names to exclude (exact match).</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>excludeGroupIds</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.excludeGroupIds</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.1.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-repackage-parameters-details-excludes"><a class="anchor" href="#goals-repackage-parameters-details-excludes"></a><code>excludes</code></h5>
<div class="paragraph">
<p>Collection of artifact definitions to exclude. The <code>Exclude</code> element defines mandatory <code>groupId</code> and <code>artifactId</code> properties and an optional <code>classifier</code> property.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>excludes</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.util.List</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.excludes</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.1.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-repackage-parameters-details-executable"><a class="anchor" href="#goals-repackage-parameters-details-executable"></a><code>executable</code></h5>
<div class="paragraph">
<p>Make a fully executable jar for *nix machines by prepending a launch script to the jar. &lt;p&gt; Currently, some tools do not accept this format so you may not always be able to use this technique. For example, <code>jar -xf</code> may silently fail to extract a jar or war that has been made fully-executable. It is recommended that you only enable this option if you intend to execute it directly, rather than running it with <code>java -jar</code> or deploying it to a servlet container.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>executable</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-repackage-parameters-details-includeSystemScope"><a class="anchor" href="#goals-repackage-parameters-details-includeSystemScope"></a><code>includeSystemScope</code></h5>
<div class="paragraph">
<p>Include system scoped dependencies.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>includeSystemScope</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.4.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-repackage-parameters-details-includes"><a class="anchor" href="#goals-repackage-parameters-details-includes"></a><code>includes</code></h5>
<div class="paragraph">
<p>Collection of artifact definitions to include. The <code>Include</code> element defines mandatory <code>groupId</code> and <code>artifactId</code> properties and an optional mandatory <code>groupId</code> and <code>artifactId</code> properties and an optional <code>classifier</code> property.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>includes</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.util.List</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.includes</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.2.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-repackage-parameters-details-layers"><a class="anchor" href="#goals-repackage-parameters-details-layers"></a><code>layers</code></h5>
<div class="paragraph">
<p>Layer configuration with options to disable layer creation, exclude layer tools jar, and provide a custom layers configuration file.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>layers</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://docs.jcohy.com/docs/spring-boot/2.4.5/html5/zh-cn/maven-plugin/api/org/springframework/boot/maven/Layers.html">org.springframework.boot.maven.Layers</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2.3.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-repackage-parameters-details-layout"><a class="anchor" href="#goals-repackage-parameters-details-layout"></a><code>layout</code></h5>
<div class="paragraph">
<p>The type of archive (which corresponds to how the dependencies are laid out inside it). Possible values are <code>JAR</code>, <code>WAR</code>, <code>ZIP</code>, <code>DIR</code>, <code>NONE</code>. Defaults to a guess based on the archive type.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>layout</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://docs.jcohy.com/docs/spring-boot/2.4.5/html5/zh-cn/maven-plugin/api/org/springframework/boot/maven/AbstractPackagerMojo.LayoutType.html">org.springframework.boot.maven.AbstractPackagerMojo$LayoutType</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.repackage.layout</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-repackage-parameters-details-layoutFactory"><a class="anchor" href="#goals-repackage-parameters-details-layoutFactory"></a><code>layoutFactory</code></h5>
<div class="paragraph">
<p>The layout factory that will be used to create the executable archive if no explicit layout is set. Alternative layouts implementations can be provided by 3rd parties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>layoutFactory</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://docs.jcohy.com/docs/spring-boot/2.4.5/html5/zh-cn/api/org/springframework/boot/loader/tools/LayoutFactory.html">org.springframework.boot.loader.tools.LayoutFactory</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.5.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-repackage-parameters-details-mainClass"><a class="anchor" href="#goals-repackage-parameters-details-mainClass"></a><code>mainClass</code></h5>
<div class="paragraph">
<p>The name of the main class. If not specified the first compiled class found that contains a <code>main</code> method will be used.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mainClass</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-repackage-parameters-details-outputDirectory"><a class="anchor" href="#goals-repackage-parameters-details-outputDirectory"></a><code>outputDirectory</code></h5>
<div class="paragraph">
<p>Directory containing the generated archive.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>outputDirectory</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.io.File</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${project.build.directory}</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-repackage-parameters-details-outputTimestamp"><a class="anchor" href="#goals-repackage-parameters-details-outputTimestamp"></a><code>outputTimestamp</code></h5>
<div class="paragraph">
<p>Timestamp for reproducible output archive entries, either formatted as ISO 8601 (<code>yyyy-MM-dd&#8217;T&#8217;HH:mm:ssXXX</code>) or an <code>int</code> representing seconds since the epoch. Not supported with war packaging.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>outputTimestamp</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${project.build.outputTimestamp}</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2.3.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-repackage-parameters-details-requiresUnpack"><a class="anchor" href="#goals-repackage-parameters-details-requiresUnpack"></a><code>requiresUnpack</code></h5>
<div class="paragraph">
<p>A list of the libraries that must be unpacked from fat jars in order to run. Specify each library as a <code>&lt;dependency&gt;</code> with a <code>&lt;groupId&gt;</code> and a <code>&lt;artifactId&gt;</code> and they will be unpacked at runtime.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>requiresUnpack</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.util.List</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.1.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-repackage-parameters-details-skip"><a class="anchor" href="#goals-repackage-parameters-details-skip"></a><code>skip</code></h5>
<div class="paragraph">
<p>Skip the execution.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>skip</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.repackage.skip</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.2.0</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="repackage-examples"><a class="anchor" href="#repackage-examples"></a>5.3. 示例</h3>
<div class="sect3">
<h4 id="repackage-example-custom-classifier"><a class="anchor" href="#repackage-example-custom-classifier"></a>5.3.1. 自定义 Classifier</h4>
<div class="paragraph">
<p>默认情况下,<code>repackage</code> 目标将原始 artifact 替换为重新打包的 artifact. 对于表示应用程序的模块来说,这是理智的行为,但是如果您的模块用作另一个模块的依赖,则需要为重新打包的模块提供 classifier. 这样做的原因是应用程序类打包在 <code>BOOT-INF/classes</code>  中,因此从属模块无法加载经过重新打包的 jar 的类.</p>
</div>
<div class="paragraph">
<p>如果是这种情况,或者您希望保留原始 artifact,然后将重新打包的 artifact 与其他 classifier 相连,请配置插件,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;repackage&lt;/id&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;repackage&lt;/goal&gt;
                        &lt;/goals&gt;
                        &lt;configuration&gt;
                            &lt;classifier&gt;exec&lt;/classifier&gt;
                        &lt;/configuration&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果您使用的是 <code>spring-boot-starter-parent</code>,则 <code>repackage</code> 目标将在 ID 为 <code>repackage</code> 的执行中自动执行.在该设置中,只需要指定配置,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;repackage&lt;/id&gt;
                        &lt;configuration&gt;
                            &lt;classifier&gt;exec&lt;/classifier&gt;
                        &lt;/configuration&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>这种配置将生成两个 artifacts : 原始 artifacts 和由重新打包目标产生的重新打包的对应零件. 两者都将透明安装/部署.</p>
</div>
<div class="paragraph">
<p>如果要以替换主要 artifact 的相同方式重新打包辅助 artifact,也可以使用相同的配置. 以下配置使用重新打包的应用程序安装/部署单个 <code>task</code> 分类的 artifact:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;jar&lt;/goal&gt;
                        &lt;/goals&gt;
                        &lt;phase&gt;package&lt;/phase&gt;
                        &lt;configuration&gt;
                            &lt;classifier&gt;task&lt;/classifier&gt;
                        &lt;/configuration&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;repackage&lt;/id&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;repackage&lt;/goal&gt;
                        &lt;/goals&gt;
                        &lt;configuration&gt;
                            &lt;classifier&gt;task&lt;/classifier&gt;
                        &lt;/configuration&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>由于 <code>maven-jar-plugin</code> 和 <code>spring-boot-maven-plugin</code> 都在同一阶段运行,因此必须首先定义 jar 插件 (以便在重新打包目标之前运行) ,这一点很重要. 同样,如果您使用的是 <code>spring-boot-starter-parent</code>,可以将其简化如下:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;default-jar&lt;/id&gt;
                        &lt;configuration&gt;
                            &lt;classifier&gt;task&lt;/classifier&gt;
                        &lt;/configuration&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;repackage&lt;/id&gt;
                        &lt;configuration&gt;
                            &lt;classifier&gt;task&lt;/classifier&gt;
                        &lt;/configuration&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="repackage-example-custom-name"><a class="anchor" href="#repackage-example-custom-name"></a>5.3.2. 自定义名称</h4>
<div class="paragraph">
<p>如果您需要重新打包的 jar 的本地名称与项目的 <code>artifactId</code> 属性定义的本地名称不同,请使用标准的 <code>finalName</code>,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;finalName&gt;my-app&lt;/finalName&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;repackage&lt;/id&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;repackage&lt;/goal&gt;
                        &lt;/goals&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>此配置将在 <code>target/my-app.jar</code> 中生成重新打包的文件.</p>
</div>
</div>
<div class="sect3">
<h4 id="repackage-example-local-artifact"><a class="anchor" href="#repackage-example-local-artifact"></a>5.3.3. 本地 Repackaged Artifact</h4>
<div class="paragraph">
<p>默认情况下,<code>repackage</code> 目标将原始 artifact 替换为可执行文件. 如果您只需要部署原始 jar,但仍能够使用常规文件名运行您的应用,请按以下步骤配置插件:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;repackage&lt;/id&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;repackage&lt;/goal&gt;
                        &lt;/goals&gt;
                        &lt;configuration&gt;
                            &lt;attach&gt;false&lt;/attach&gt;
                        &lt;/configuration&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>这种配置生成两个 artifacts : 原始 artifacts 和由  <code>repackage</code> 目标产生的可执行计数器部分.仅原始的将被安装/部署.</p>
</div>
</div>
<div class="sect3">
<h4 id="repackage-example-custom-layout"><a class="anchor" href="#repackage-example-custom-layout"></a>5.3.4. 自定义布局</h4>
<div class="paragraph">
<p>Spring Boot 使用附加 jar 文件中定义的自定义布局工厂对该项目的 jar 文件重新打包,该工厂作为对构建插件的依赖关系提供:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;repackage&lt;/id&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;repackage&lt;/goal&gt;
                        &lt;/goals&gt;
                        &lt;configuration&gt;
                            &lt;layoutFactory implementation="com.example.CustomLayoutFactory"&gt;
                                &lt;customProperty&gt;value&lt;/customProperty&gt;
                            &lt;/layoutFactory&gt;
                        &lt;/configuration&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
                &lt;dependencies&gt;
                    &lt;dependency&gt;
                        &lt;groupId&gt;com.example&lt;/groupId&gt;
                        &lt;artifactId&gt;custom-layout&lt;/artifactId&gt;
                        &lt;version&gt;0.0.1.BUILD-SNAPSHOT&lt;/version&gt;
                    &lt;/dependency&gt;
                &lt;/dependencies&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>布局工厂是作为 <code>pom</code> 中明确指定的 <code>LayoutFactory</code> 的实现 (来自 <code>spring-boot-loader-tools</code>) 提供的. 如果插件的类路径上只有一个自定义 <code>LayoutFactory</code>,并且已在  <code>META-INF/spring.factories</code> 中列出,则无需在插件配置中显式设置它.</p>
</div>
<div class="paragraph">
<p>如果设置了 <a href="#goals-repackage-parameters-details-layoutFactory">layout</a> ,则总是会忽略布局工厂.</p>
</div>
</div>
<div class="sect3">
<h4 id="repackage-example-exclude-dependency"><a class="anchor" href="#repackage-example-exclude-dependency"></a>5.3.5. Dependency 排除</h4>
<div class="paragraph">
<p>默认情况下,<code>repackage</code> 和 <code>run</code> 目标都将包括项目中定义的所有提供的依赖. Spring Boot 项目应将 <code>provided</code> 的依赖视为运行应用程序所需的 "container"  依赖.</p>
</div>
<div class="paragraph">
<p>这些依赖中的某些可能根本不需要,应该从可执行 jar 中排除. 为了保持一致,在运行应用程序时也不应该显示它们.</p>
</div>
<div class="paragraph">
<p>有两种方法可以在运行时打包/使用中排除依赖:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>排除由 <code>groupId</code> 和 <code>artifactId</code> 标识的组件, 如有需要,可以使用可选的 <code>classifier</code>.</p>
</li>
<li>
<p>排除所有 <code>groupId</code> 的组件.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>以下示例排除 <code>com.foo:bar</code>,只排除此 artifact:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;excludes&gt;
                        &lt;exclude&gt;
                            &lt;groupId&gt;com.foo&lt;/groupId&gt;
                            &lt;artifactId&gt;bar&lt;/artifactId&gt;
                        &lt;/exclude&gt;
                    &lt;/excludes&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>此示例排除了属于 <code>com.foo</code> 组的所有组件:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;excludeGroupIds&gt;com.foo&lt;/excludeGroupIds&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="repackage-layered-jars-tools"><a class="anchor" href="#repackage-layered-jars-tools"></a>5.3.6. Layered Jar Tools</h4>
<div class="paragraph">
<p>创建分层 jar 时,<code>spring-boot-jarmode-layertools</code> jar 将作为依赖添加到 jar 中. 将此 jar 放在类路径上,您可以在特殊模式下启动应用程序,该模式允许引导代码运行与您的应用程序完全不同的内容,例如,提取层的内容. 如果要排除此依赖关系,可以按以下方式进行:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;layers&gt;
                        &lt;enabled&gt;true&lt;/enabled&gt;
                        &lt;includeLayerTools&gt;false&lt;/includeLayerTools&gt;
                    &lt;/layers&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="repackage-layered-jars-additional-layers"><a class="anchor" href="#repackage-layered-jars-additional-layers"></a>5.3.7. Custom Layers Configuration</h4>
<div class="paragraph">
<p>默认设置将依赖分为快照和非快照,但是,您可能具有更复杂的规则. 例如,您可能希望在专用层中隔离项目的公司特定依赖性. 以下 <code>layers.xml</code> 配置显示了一种这样的设置:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;layers xmlns="http://www.springframework.org/schema/boot/layers"
                      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                      xsi:schemaLocation="http://www.springframework.org/schema/boot/layers
                      https://www.springframework.org/schema/boot/layers/layers-{spring-boot-xsd-version}.xsd"&gt;
    &lt;application&gt;
        &lt;into layer="spring-boot-loader"&gt;
            &lt;include&gt;org/springframework/boot/loader/**&lt;/include&gt;
        &lt;/into&gt;
        &lt;into layer="application" /&gt;
    &lt;/application&gt;
    &lt;dependencies&gt;
        &lt;into layer="snapshot-dependencies"&gt;
            &lt;include&gt;*:*:*SNAPSHOT&lt;/include&gt;
        &lt;/into&gt;
        &lt;into layer="company-dependencies"&gt;
            &lt;include&gt;com.acme:*&lt;/include&gt;
        &lt;/into&gt;
        &lt;into layer="dependencies"/&gt;
    &lt;/dependencies&gt;
    &lt;layerOrder&gt;
        &lt;layer&gt;dependencies&lt;/layer&gt;
        &lt;layer&gt;spring-boot-loader&lt;/layer&gt;
        &lt;layer&gt;snapshot-dependencies&lt;/layer&gt;
        &lt;layer&gt;company-dependencies&lt;/layer&gt;
        &lt;layer&gt;application&lt;/layer&gt;
    &lt;/layerOrder&gt;
&lt;/layers&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>上面的配置使用所有带有 <code>com.acme</code> groupId 的库创建一个附加的 <code>company-dependencies</code> 层.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="build-image"><a class="anchor" href="#build-image"></a>6. 打包 OCI 镜像</h2>
<div class="sectionbody">
<div class="paragraph">
<p>该插件可以使用 <a href="https://buildpacks.io">Cloud Native Buildpacks</a> (CNB) 从可执行 jar 文件创建 <a href="https://github.com/opencontainers/image-spec">OCI image</a>.可以使用 <code>build-image</code> 目标来构建镜像.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
出于安全原因,镜像以非 root 用户身份构建和运行.有关更多详细信息,请参见 <a href="https://buildpacks.io/docs/reference/spec/platform-api/#users">CNB specification</a>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>build-image</code> 任务不支持 <a href="#repackage">打包成 war</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>最简单的入门方法是在项目上调用 <code>mvn spring-boot:build-image</code>. 每当调用 <code>package</code> 阶段时,都可以自动创建镜像,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;build-image&lt;/goal&gt;
                    &lt;/goals&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
尽管 buildpack 是从  <a href="#repackage">executable archive</a> 运行的,但不必先执行 <code>repackage</code> 目标,因为必要时会自动创建可执行存档. 当构建镜像重新打包应用程序时,它将应用与重新打包目标相同的设置,即可以使用 exclude 选项之一排除依赖,并且默认情况下会自动排除 Devtools (您可以使用 <code>excludeDevtools</code>  属性进行控制) .
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="build-image-docker-daemon"><a class="anchor" href="#build-image-docker-daemon"></a>6.1. Docker Daemon</h3>
<div class="paragraph">
<p><code>build-image</code> 任务需要访问 Docker 守护程序. 默认情况下,它将通过本地连接与 Docker 守护程序通信. 无需配置即可在所有支持的平台上使用 <a href="https://docs.docker.com/install/">Docker Engine</a>.</p>
</div>
<div class="paragraph">
<p>可以设置环境变量以将 <code>build-image</code> 任务配置为使用 <a href="https://minikube.sigs.k8s.io/docs/tasks/docker_daemon/">minikube 提供的 Docker 守护程序</a> . 下表显示了环境变量及其值:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Environment variable</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DOCKER_HOST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL containing the host and port for the Docker daemon - e.g. <code>tcp://192.168.99.100:2376</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DOCKER_TLS_VERIFY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable secure HTTPS protocol when set to <code>1</code> (optional)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DOCKER_CERT_PATH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to certificate and key files for HTTPS (required if <code>DOCKER_TLS_VERIFY=1</code>, ignored otherwise)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>在 Linux 和 macOS 上,启动 minikube 之后,可以使用命令 <code>eval $(minikube docker-env)</code> 设置这些环境变量.</p>
</div>
<div class="paragraph">
<p>也可以使用插件配置中的 <code>docker</code> 参数提供 Docker 守护进程连接信息. 下表汇总了可用参数:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>host</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Docker daemon 主机和端口 URL - e.g. <code>tcp://192.168.99.100:2376</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tlsVerify</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">当设置为 <code>true</code> 时,开启 HTTPS 协议(可选)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>certPath</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTPS 的证书和密钥文件的路径 (如果 <code>tlsVerify</code> 为 <code>true</code> 则需要, 否则将忽略)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>更多信息, 请查看 <a href="#build-image-example-docker">examples</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="build-image-docker-registry"><a class="anchor" href="#build-image-docker-registry"></a>6.2. Docker Registry</h3>
<div class="paragraph">
<p>如果由 <code>builder</code> 或 <code>runImage</code> 参数指定的 Docker 镜像存储在需要身份验证的私有 Docker image registry  中, 可以使用  <code>docker.builderRegistry</code> 参数提供身份验证凭据.</p>
</div>
<div class="paragraph">
<p>如果生成的 Docker 镜像要发布到  Docker image registry 中, 可以使用 <code>docker.publishRegistry</code>  参数提供身份验证凭据.</p>
</div>
<div class="paragraph">
<p>为用户身份验证或身份令牌验证提供了参数. 关于支持的身份验证方法的更多信息, 请参考 Docker registry 的文档.</p>
</div>
<div class="paragraph">
<p>下表总结了 <code>docker.builderRegistry</code> 和 <code>docker.publishRegistry</code> 的可用参数:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>username</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Docker image registry 的 username. Required for user authentication.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password for the Docker image registry user. Required for user authentication.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>url</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address of the Docker image registry. Optional for user authentication.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>email</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E-mail address for the Docker image registry user. Optional for user authentication.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>token</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identity token for the Docker image registry user. Required for token authentication.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>更多信息, 请查看 <a href="#build-image-example-docker">examples</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="build-image-customization"><a class="anchor" href="#build-image-customization"></a>6.3. Image Customizations</h3>
<div class="paragraph">
<p>该插件调用一个 <a href="https://buildpacks.io/docs/concepts/components/builder/">builder</a> 来协助镜像的生成. 该构建器包括多个  <a href="https://buildpacks.io/docs/concepts/components/buildpack">buildpacks</a>,可以检查应用程序以影响生成的镜像. 默认情况下,插件选择一个生成镜像. 生成的镜像名称是从项目属性推导出的.</p>
</div>
<div class="paragraph">
<p><code>image</code> 属性可用于配置构建器应如何在项目上运行.下表总结了可用的属性及其默认值:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">User property</th>
<th class="tableblock halign-left valign-top">Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>builder</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the Builder image to use.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.build-image.builder</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>paketobuildpacks/builder:base</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>runImage</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the run image to use.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.build-image.runImage</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No default value, indicating the run image specified in Builder metadata should be used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://docs.jcohy.com/docs/spring-boot/2.4.5/html5/zh-cn/api/org/springframework/boot/buildpack/platform/docker/type/ImageReference.html#of-java.lang.String-">Image name</a> for the generated image.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.build-image.imageName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>docker.io/library/${project.artifactId}:${project.version}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pullPolicy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://docs.jcohy.com/docs/spring-boot/2.4.5/html5/zh-cn/api/org/springframework/boot/buildpack/platform/build/PullPolicy.html">Policy</a> used to determine when to pull the builder and run images from the registry.
Acceptable values are <code>ALWAYS</code>, <code>NEVER</code>, and <code>IF_NOT_PRESENT</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.build-image.pullPolicy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALWAYS</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>env</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Environment variables that should be passed to the builder.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cleanCache</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to clean the cache before building.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.build-image.cleanCache</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>verboseLogging</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables verbose logging of builder operations.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>publish</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to publish the generated image to a Docker registry.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.build-image.publish</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
该插件使用编译器的插件配置或 <code>maven.compiler.target</code> 属性检测项目的目标 Java 兼容性. 当使用默认的 Paketo 构建器和 buildpacks 时,插件会指示 buildpacks 安装相同的 Java 版本. 您可以覆盖此行为,如 <a href="#build-image-example-builder-configuration">builder configuration</a>  示例中所示.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>有关更多详细信息,另请参见 <a href="#build-image-examples">examples</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="goals-build-image"><a class="anchor" href="#goals-build-image"></a>6.4. <code>spring-boot:build-image</code></h3>
<div class="paragraph">
<p><code>org.springframework.boot:spring-boot-maven-plugin:2.4.5</code></p>
</div>
<div class="paragraph">
<p>使用 buildpack 将应用程序打包到 OCI 镜像中</p>
</div>
<div class="sect3">
<h4 id="goals-build-image-parameters-required"><a class="anchor" href="#goals-build-image-parameters-required"></a>6.4.1. Required parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 25%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-build-image-parameters-details-sourceDirectory">sourceDirectory</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>File</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${project.build.directory}</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="goals-build-image-parameters-optional"><a class="anchor" href="#goals-build-image-parameters-optional"></a>6.4.2. Optional parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 25%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-build-image-parameters-details-classifier">classifier</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-build-image-parameters-details-docker">docker</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://docs.jcohy.com/docs/spring-boot/2.4.5/html5/zh-cn/maven-plugin/api/org/springframework/boot/maven/Docker.html">Docker</a></code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-build-image-parameters-details-excludeDevtools">excludeDevtools</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-build-image-parameters-details-excludeGroupIds">excludeGroupIds</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-build-image-parameters-details-excludes">excludes</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>List</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-build-image-parameters-details-image">image</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://docs.jcohy.com/docs/spring-boot/2.4.5/html5/zh-cn/maven-plugin/api/org/springframework/boot/maven/Image.html">Image</a></code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-build-image-parameters-details-includeSystemScope">includeSystemScope</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-build-image-parameters-details-includes">includes</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>List</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-build-image-parameters-details-layers">layers</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://docs.jcohy.com/docs/spring-boot/2.4.5/html5/zh-cn/maven-plugin/api/org/springframework/boot/maven/Layers.html">Layers</a></code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-build-image-parameters-details-mainClass">mainClass</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-build-image-parameters-details-skip">skip</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="goals-build-image-parameters-details"><a class="anchor" href="#goals-build-image-parameters-details"></a>6.4.3. Parameter details</h4>
<div class="sect4">
<h5 id="goals-build-image-parameters-details-classifier"><a class="anchor" href="#goals-build-image-parameters-details-classifier"></a><code>classifier</code></h5>
<div class="paragraph">
<p>查找 source archive 时使用的 Classifier.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>classifier</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2.3.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-build-image-parameters-details-docker"><a class="anchor" href="#goals-build-image-parameters-details-docker"></a><code>docker</code></h5>
<div class="paragraph">
<p>Docker configuration options.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>docker</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://docs.jcohy.com/docs/spring-boot/2.4.5/html5/zh-cn/maven-plugin/api/org/springframework/boot/maven/Docker.html">org.springframework.boot.maven.Docker</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2.4.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-build-image-parameters-details-excludeDevtools"><a class="anchor" href="#goals-build-image-parameters-details-excludeDevtools"></a><code>excludeDevtools</code></h5>
<div class="paragraph">
<p>从重新打包的 archive 中排除 Spring Boot devtools</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>excludeDevtools</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.repackage.excludeDevtools</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-build-image-parameters-details-excludeGroupIds"><a class="anchor" href="#goals-build-image-parameters-details-excludeGroupIds"></a><code>excludeGroupIds</code></h5>
<div class="paragraph">
<p>用逗号分隔的要排除的 groupId 名称列表 (完全匹配) .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>excludeGroupIds</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.excludeGroupIds</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.1.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-build-image-parameters-details-excludes"><a class="anchor" href="#goals-build-image-parameters-details-excludes"></a><code>excludes</code></h5>
<div class="paragraph">
<p>要排除的组件定义的集合. <code>Exclude</code> 元素必需定义的 <code>groupId</code> 和 <code>artifactId</code> 属性以及可选的 <code>classifier</code> 属性.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>excludes</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.util.List</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.excludes</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.1.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-build-image-parameters-details-image"><a class="anchor" href="#goals-build-image-parameters-details-image"></a><code>image</code></h5>
<div class="paragraph">
<p>镜像配置,包括 <code>builder</code>, <code>runImage</code>, <code>name</code>, <code>env</code>, <code>cleanCache</code> ,verboseLogging, <code>pullPolicy</code> 和 <code>publish</code>  选项.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>image</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://docs.jcohy.com/docs/spring-boot/2.4.5/html5/zh-cn/maven-plugin/api/org/springframework/boot/maven/Image.html">org.springframework.boot.maven.Image</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2.3.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-build-image-parameters-details-includeSystemScope"><a class="anchor" href="#goals-build-image-parameters-details-includeSystemScope"></a><code>includeSystemScope</code></h5>
<div class="paragraph">
<p>Include system scoped dependencies.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>includeSystemScope</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.4.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-build-image-parameters-details-includes"><a class="anchor" href="#goals-build-image-parameters-details-includes"></a><code>includes</code></h5>
<div class="paragraph">
<p>要包括的组件定义的集合. <code>Exclude</code> 元素必需定义的 <code>groupId</code> 和 <code>artifactId</code> 属性以及可选的 <code>classifier</code> 属性.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>includes</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.util.List</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.includes</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.2.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-build-image-parameters-details-layers"><a class="anchor" href="#goals-build-image-parameters-details-layers"></a><code>layers</code></h5>
<div class="paragraph">
<p>具有禁用层创建选项的层配置,排除分层工具的 jar,并提供自定义层配置文件.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>layers</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://docs.jcohy.com/docs/spring-boot/2.4.5/html5/zh-cn/maven-plugin/api/org/springframework/boot/maven/Layers.html">org.springframework.boot.maven.Layers</a></code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2.3.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-build-image-parameters-details-mainClass"><a class="anchor" href="#goals-build-image-parameters-details-mainClass"></a><code>mainClass</code></h5>
<div class="paragraph">
<p>主类的名称.如果未指定,将使用找到的第一个包含 main 方法的类.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mainClass</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-build-image-parameters-details-skip"><a class="anchor" href="#goals-build-image-parameters-details-skip"></a><code>skip</code></h5>
<div class="paragraph">
<p>跳过 execution.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>skip</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.build-image.skip</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2.3.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-build-image-parameters-details-sourceDirectory"><a class="anchor" href="#goals-build-image-parameters-details-sourceDirectory"></a><code>sourceDirectory</code></h5>
<div class="paragraph">
<p>包含 source archive 的目录.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sourceDirectory</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.io.File</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${project.build.directory}</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2.3.0</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="build-image-examples"><a class="anchor" href="#build-image-examples"></a>6.5. 示例</h3>
<div class="sect3">
<h4 id="build-image-example-custom-image-builder"><a class="anchor" href="#build-image-example-custom-image-builder"></a>6.5.1. Custom Image Builder</h4>
<div class="paragraph">
<p>如果需要自定义用于创建镜像的 Builder 或用于启动生成的镜像的运行镜像,请使用如下配置插件:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;image&gt;
                        &lt;builder&gt;mine/java-cnb-builder&lt;/builder&gt;
                        &lt;runImage&gt;mine/java-cnb-run&lt;/runImage&gt;
                    &lt;/image&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>此配置将使用名称为 <code>mine/java-cnb-builder</code> 的构建器镜像的最新版本(<code>latest</code> tag),以及名为 <code>mine/java-cnb-run</code>  的运行镜像的最新版本(<code>latest</code> tag).</p>
</div>
<div class="paragraph">
<p>构建器和运行镜像也可以在命令行上指定,如本示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mvn spring-boot:build-image -Dspring-boot.build-image.builder=mine/java-cnb-builder -Dspring-boot.build-image.runImage=mine/java-cnb-run</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="build-image-example-builder-configuration"><a class="anchor" href="#build-image-example-builder-configuration"></a>6.5.2. 构建器配置</h4>
<div class="paragraph">
<p>如果构建器使用环境变量暴露配置选项,则可以使用 <code>env</code> 属性进行设置.</p>
</div>
<div class="paragraph">
<p>以下是配置在构建时由 Paketo Java buildpack <a href="https://paketo.io/docs/buildpacks/language-family-buildpacks/java/#configuring-the-jvm-version">configuring the JVM version</a>  的示例:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;image&gt;
                        &lt;env&gt;
                            &lt;BP_JVM_VERSION&gt;8.*&lt;/BP_JVM_VERSION&gt;
                        &lt;/env&gt;
                    &lt;/image&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>以类似的方式,Paketo Java buildpacks 支持 <a href="https://paketo.io/docs/buildpacks/language-family-buildpacks/java/#runtime-jvm-configuration">配置 JVM 运行时行为</a>. 请参阅 <a href="https://paketo.io/docs/buildpacks/language-family-buildpacks/java">Paketo 文档</a> 以获取 Paketo Java buildpacks 支持的其他配置选项.</p>
</div>
<div class="paragraph">
<p>如果构建器在其运行的 Docker 守护程序与构建打包下载 artifacts 的网络位置之间存在网络代理,则需要将构建器配置为使用代理. 使用 Paketo 构建器时,可以通过设置 <code>HTTPS_PROXY</code> and/or <code>HTTP_PROXY</code> 环境变量来实现,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;image&gt;
                        &lt;env&gt;
                            &lt;HTTP_PROXY&gt;http://proxy.example.com&lt;/HTTP_PROXY&gt;
                            &lt;HTTPS_PROXY&gt;https://proxy.example.com&lt;/HTTPS_PROXY&gt;
                        &lt;/env&gt;
                    &lt;/image&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="build-image-example-runtime-jvm-configuration"><a class="anchor" href="#build-image-example-runtime-jvm-configuration"></a>6.5.3. Runtime JVM Configuration</h4>
<div class="paragraph">
<p>Paketo Java buildpacks 通过设置环境变量 <code>JAVA_TOOL_OPTIONS</code> 来 <a href="https://paketo.io/docs/buildpacks/language-family-buildpacks/java/#runtime-jvm-configuration">配置 JVM 运行时环境</a>.</p>
</div>
<div class="paragraph">
<p>当在容器中启动应用程序镜像时,  可以修改 buildpack 提供的 <code>JAVA_TOOL_OPTIONS</code> 值以自定义JVM运行时行为.</p>
</div>
<div class="paragraph">
<p>可以如 <a href="https://paketo.io/docs/buildpacks/configuration/#environment-variables">Paketo documentation</a> 中所述在镜像中配置并应用于每个部署的环境变量修改,  并在以下示例中显示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;image&gt;
                        &lt;env&gt;
                            &lt;BPE_DELIM_JAVA_TOOL_OPTIONS xml:space="preserve"&gt; &lt;/BPE_DELIM_JAVA_TOOL_OPTIONS&gt;
                            &lt;BPE_APPEND_JAVA_TOOL_OPTIONS&gt;-XX:+HeapDumpOnOutOfMemoryError&lt;/BPE_APPEND_JAVA_TOOL_OPTIONS&gt;
                        &lt;/env&gt;
                    &lt;/image&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="build-image-example-custom-image-name"><a class="anchor" href="#build-image-example-custom-image-name"></a>6.5.4. 自定义镜像名称</h4>
<div class="paragraph">
<p>默认情况下,镜像名称是根据 <code>artifactId</code> 和项目版本来推断的,例如 <code>docker.io/library/${project.artifactId}:${project.version}</code>.您可以控制名称,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;image&gt;
                        &lt;name&gt;example.com/library/${project.artifactId}&lt;/name&gt;
                    &lt;/image&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
此配置未显式提供标签,因此使用最新的.也可以使用 <code>${project.version}</code>,构建中可用的任何属性或硬编码版本来指定标签.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>镜像名称也可以在命令行上指定,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mvn spring-boot:build-image -Dspring-boot.build-image.imageName=example.com/library/my-app:v1</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="build-image-example-publish"><a class="anchor" href="#build-image-example-publish"></a>6.5.5. Image Publishing</h4>
<div class="paragraph">
<p>生成的镜像可以发布到  Docker registry , 方法是启用  <code>publish</code>  选项并使用  <code>docker.publishRegistry</code> 配置 registry 的身份验证.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;image&gt;
                        &lt;name&gt;docker.example.com/library/${project.artifactId}&lt;/name&gt;
                        &lt;publish&gt;true&lt;/publish&gt;
                    &lt;/image&gt;
                    &lt;docker&gt;
                        &lt;publishRegistry&gt;
                            &lt;username&gt;user&lt;/username&gt;
                            &lt;password&gt;secret&lt;/password&gt;
                            &lt;url&gt;https://docker.example.com/v1/&lt;/url&gt;
                            &lt;email&gt;user@example.com&lt;/email&gt;
                        &lt;/publishRegistry&gt;
                    &lt;/docker&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>也可以在命令行上指定  <code>publish</code> 选项, 如下例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mvn spring-boot:build-image -Dspring-boot.build-image.imageName=docker.example.com/library/my-app:v1 -Dspring-boot.build-image.publish=true</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="build-image-example-docker"><a class="anchor" href="#build-image-example-docker"></a>6.5.6. Docker 配置</h4>
<div class="paragraph">
<p>如果你需要插件使用远程连接而不是默认的本地连接来与 Docker 守护进程通信, 可以使用  <code>docker</code>  属性提供连接细节, 如下所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;docker&gt;
                        &lt;host&gt;tcp://192.168.99.100:2376&lt;/host&gt;
                        &lt;tlsVerify&gt;true&lt;/tlsVerify&gt;
                        &lt;certPath&gt;/home/user/.minikube/certs&lt;/certPath&gt;
                    &lt;/docker&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果构建器或运行镜像存储在支持用户身份验证的私有 Docker registry 中, 则可以使用 <code>docker.builderRegistry</code> 参数提供身份验证细节. 如下所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;docker&gt;
                        &lt;builderRegistry&gt;
                            &lt;username&gt;user&lt;/username&gt;
                            &lt;password&gt;secret&lt;/password&gt;
                            &lt;url&gt;https://docker.example.com/v1/&lt;/url&gt;
                            &lt;email&gt;user@example.com&lt;/email&gt;
                        &lt;/builderRegistry&gt;
                    &lt;/docker&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果构建器或运行映像存储在支持令牌身份验证的私有 Docker registry  中, 则可以使用  <code>docker.builderRegistry</code> 参数提供令牌值. 如下所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;docker&gt;
                        &lt;builderRegistry&gt;
                            &lt;token&gt;9cbaf023786cd7...&lt;/token&gt;
                        &lt;/builderRegistry&gt;
                    &lt;/docker&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="run"><a class="anchor" href="#run"></a>7. 使用 Maven 运行你的应用程序</h2>
<div class="sectionbody">
<div class="paragraph">
<p>该插件包括一个 run 目标,可用于从命令行启动您的应用程序,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mvn spring-boot:run</pre>
</div>
</div>
<div class="paragraph">
<p>可以使用 <code>arguments</code> 参数指定应用程序参数,有关更多详细信息,请参见 <a href="#run-example-application-arguments">使用应用程序参数</a>.</p>
</div>
<div class="paragraph">
<p>默认情况下,应用程序是在 forked 进程中执行的,并且在命令行上设置属性不会影响应用程序. 如果需要指定一些 JVM 参数 (即用于调试目的) ,则可以使用 <code>jvmArguments</code> 参数,有关更多详细信息,请参见 <a href="#run-example-debug">调试应用程序</a>. 还明确支持 <a href="#run-example-system-properties">系统属性</a> 和 <a href="#run-example-environment-variables">环境变量</a>.</p>
</div>
<div class="paragraph">
<p>由于启用配置文件非常普遍,因此有一个专用的 <code>profiles</code> 属性,它提供了  <code>-Dspring-boot.run.jvmArguments="-Dspring.profiles.active=dev"</code> 的快捷方式,请参阅 <a href="#run-example-active-profiles">指定激活 profiles</a>.</p>
</div>
<div class="paragraph">
<p>尽管不建议这样做,但是可以通过禁用 fork 属性直接从 Maven JVM 执行应用程序. 这样做意味着将忽略 <code>jvmArguments</code>,<code>systemPropertyVariables</code>,<code>environmentVariables</code> 和 <code>agent</code> 选项.</p>
</div>
<div class="paragraph">
<p>Spring Boot <code>devtools</code> 是一个模块,用于改善在使用 Spring Boot 应用程序时的开发时间体验. 要启用它,只需将以下依赖添加到您的项目中:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;
        &lt;optional&gt;true&lt;/optional&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>当 <code>devtools</code> 运行时,它会在重新编译应用程序时检测到更改并自动刷新它. 这不仅适用于资源,而且适用于代码. 它还提供了 <code>LiveReload</code> 服务器,以便它可以在发生任何变化时自动触发浏览器刷新.</p>
</div>
<div class="paragraph">
<p>还可以将 Devtools 配置为仅在静态资源发生更改时刷新浏览器 (并忽略代码中的任何更改) . 只需在项目中包括以下属性:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">spring.devtools.remote.restart.enabled=false</code></pre>
</div>
</div>
<div class="paragraph">
<p>在 <code>devtools</code> 之前,该插件默认情况下支持资源的热刷新,现在已禁用它,以支持上述解决方案.您可以随时通过配置项目来还原它:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
            &lt;configuration&gt;
                &lt;addResources&gt;true&lt;/addResources&gt;
            &lt;/configuration&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>启用 <code>addResources</code> 时,在运行应用程序时,所有 <code>src/main/resources</code> 目录都将添加到应用程序类路径中,并且将删除在 <code>target/classes</code> 中发现的所有重复项. 这样可以热刷新资源,这在开发 Web 应用程序时非常有用. 例如,您可以处理 HTML,CSS 或 JavaScript 文件,并且无需重新编译应用程序即可立即查看更改. 这也是允许您的前端开发人员进行工作而无需下载和安装 Java IDE 的一种有用方法.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
使用此功能的缺点是在构建时无法进行资源过滤.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>为了与 <code>repackage</code> 目标保持一致,<code>run</code> 目标以如下方式构建类路径: 将插件配置中排除的任何依赖也从类路径中排除. 有关更多详细信息,请参见<a href="#repackage-example-exclude-dependency">the dedicated example</a>.</p>
</div>
<div class="paragraph">
<p>有时在运行应用程序时包括测试依赖很有用. 例如,如果要在使用存根类的测试模式下运行应用程序. 如果您希望这样做,可以将 <code>useTestClasspath</code> 参数设置为 <code>true</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
这仅在运行应用程序时适用: <code>repackage</code> 目标不会将测试依赖添加到生成的 JAR/WAR 中.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="goals-run"><a class="anchor" href="#goals-run"></a>7.1. <code>spring-boot:run</code></h3>
<div class="paragraph">
<p><code>org.springframework.boot:spring-boot-maven-plugin:2.4.5</code></p>
</div>
<div class="paragraph">
<p>运行应用程序.</p>
</div>
<div class="sect3">
<h4 id="goals-run-parameters-required"><a class="anchor" href="#goals-run-parameters-required"></a>7.1.1. Required parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 25%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-run-parameters-details-classesDirectory">classesDirectory</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>File</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${project.build.outputDirectory}</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="goals-run-parameters-optional"><a class="anchor" href="#goals-run-parameters-optional"></a>7.1.2. Optional parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 25%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-run-parameters-details-addResources">addResources</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-run-parameters-details-agents">agents</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>File[]</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-run-parameters-details-arguments">arguments</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String[]</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-run-parameters-details-commandlineArguments">commandlineArguments</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-run-parameters-details-directories">directories</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String[]</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-run-parameters-details-environmentVariables">environmentVariables</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Map</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-run-parameters-details-excludeGroupIds">excludeGroupIds</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-run-parameters-details-excludes">excludes</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>List</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-run-parameters-details-folders">folders</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String[]</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-run-parameters-details-fork">fork</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-run-parameters-details-includes">includes</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>List</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-run-parameters-details-jvmArguments">jvmArguments</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-run-parameters-details-mainClass">mainClass</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-run-parameters-details-noverify">noverify</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-run-parameters-details-optimizedLaunch">optimizedLaunch</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-run-parameters-details-profiles">profiles</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String[]</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-run-parameters-details-skip">skip</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-run-parameters-details-systemPropertyVariables">systemPropertyVariables</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Map</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-run-parameters-details-useTestClasspath">useTestClasspath</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-run-parameters-details-workingDirectory">workingDirectory</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>File</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="goals-run-parameters-details"><a class="anchor" href="#goals-run-parameters-details"></a>7.1.3. Parameter details</h4>
<div class="sect4">
<h5 id="goals-run-parameters-details-addResources"><a class="anchor" href="#goals-run-parameters-details-addResources"></a><code>addResources</code></h5>
<div class="paragraph">
<p>Add maven resources to the classpath directly, this allows live in-place editing of resources. Duplicate resources are removed from <code>target/classes</code> to prevent them to appear twice if <code>ClassLoader.getResources()</code> is called. Please consider adding <code>spring-boot-devtools</code> to your project instead as it provides this feature and many more.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>addResources</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.addResources</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-run-parameters-details-agents"><a class="anchor" href="#goals-run-parameters-details-agents"></a><code>agents</code></h5>
<div class="paragraph">
<p>Path to agent jars. NOTE: a forked process is required to use this feature.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>agents</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.io.File[]</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.agents</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2.2.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-run-parameters-details-arguments"><a class="anchor" href="#goals-run-parameters-details-arguments"></a><code>arguments</code></h5>
<div class="paragraph">
<p>Arguments that should be passed to the application.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>arguments</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String[]</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-run-parameters-details-classesDirectory"><a class="anchor" href="#goals-run-parameters-details-classesDirectory"></a><code>classesDirectory</code></h5>
<div class="paragraph">
<p>Directory containing the classes and resource files that should be packaged into the archive.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>classesDirectory</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.io.File</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${project.build.outputDirectory}</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-run-parameters-details-commandlineArguments"><a class="anchor" href="#goals-run-parameters-details-commandlineArguments"></a><code>commandlineArguments</code></h5>
<div class="paragraph">
<p>Arguments from the command line that should be passed to the application. Use spaces to separate multiple arguments and make sure to wrap multiple values between quotes. When specified, takes precedence over <code>#arguments</code>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commandlineArguments</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.arguments</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2.2.3</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-run-parameters-details-directories"><a class="anchor" href="#goals-run-parameters-details-directories"></a><code>directories</code></h5>
<div class="paragraph">
<p>Additional directories besides the classes directory that should be added to the classpath.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>directories</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String[]</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.directories</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-run-parameters-details-environmentVariables"><a class="anchor" href="#goals-run-parameters-details-environmentVariables"></a><code>environmentVariables</code></h5>
<div class="paragraph">
<p>List of Environment variables that should be associated with the forked process used to run the application. NOTE: a forked process is required to use this feature.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>environmentVariables</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.util.Map</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2.1.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-run-parameters-details-excludeGroupIds"><a class="anchor" href="#goals-run-parameters-details-excludeGroupIds"></a><code>excludeGroupIds</code></h5>
<div class="paragraph">
<p>Comma separated list of groupId names to exclude (exact match).</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>excludeGroupIds</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.excludeGroupIds</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.1.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-run-parameters-details-excludes"><a class="anchor" href="#goals-run-parameters-details-excludes"></a><code>excludes</code></h5>
<div class="paragraph">
<p>Collection of artifact definitions to exclude. The <code>Exclude</code> element defines mandatory <code>groupId</code> and <code>artifactId</code> properties and an optional <code>classifier</code> property.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>excludes</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.util.List</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.excludes</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.1.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-run-parameters-details-folders"><a class="anchor" href="#goals-run-parameters-details-folders"></a><code>folders</code></h5>
<div class="paragraph">
<p>Additional directories besides the classes directory that should be added to the classpath.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>folders</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String[]</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.folders</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-run-parameters-details-fork"><a class="anchor" href="#goals-run-parameters-details-fork"></a><code>fork</code></h5>
<div class="paragraph">
<p>Flag to indicate if the run processes should be forked. Disabling forking will disable some features such as an agent, custom JVM arguments, devtools or specifying the working directory to use.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fork</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.fork</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.2.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-run-parameters-details-includes"><a class="anchor" href="#goals-run-parameters-details-includes"></a><code>includes</code></h5>
<div class="paragraph">
<p>Collection of artifact definitions to include. The <code>Include</code> element defines mandatory <code>groupId</code> and <code>artifactId</code> properties and an optional mandatory <code>groupId</code> and <code>artifactId</code> properties and an optional <code>classifier</code> property.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>includes</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.util.List</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.includes</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.2.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-run-parameters-details-jvmArguments"><a class="anchor" href="#goals-run-parameters-details-jvmArguments"></a><code>jvmArguments</code></h5>
<div class="paragraph">
<p>JVM arguments that should be associated with the forked process used to run the application. On command line, make sure to wrap multiple values between quotes. NOTE: a forked process is required to use this feature.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jvmArguments</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.jvmArguments</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.1.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-run-parameters-details-mainClass"><a class="anchor" href="#goals-run-parameters-details-mainClass"></a><code>mainClass</code></h5>
<div class="paragraph">
<p>The name of the main class. If not specified the first compiled class found that contains a 'main' method will be used.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mainClass</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.main-class</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-run-parameters-details-noverify"><a class="anchor" href="#goals-run-parameters-details-noverify"></a><code>noverify</code></h5>
<div class="paragraph">
<p>Flag to say that the agent requires -noverify.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>noverify</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.noverify</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-run-parameters-details-optimizedLaunch"><a class="anchor" href="#goals-run-parameters-details-optimizedLaunch"></a><code>optimizedLaunch</code></h5>
<div class="paragraph">
<p>Whether the JVM&#8217;s launch should be optimized.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>optimizedLaunch</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.optimizedLaunch</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2.2.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-run-parameters-details-profiles"><a class="anchor" href="#goals-run-parameters-details-profiles"></a><code>profiles</code></h5>
<div class="paragraph">
<p>The spring profiles to activate. Convenience shortcut of specifying the 'spring.profiles.active' argument. On command line use commas to separate multiple profiles.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>profiles</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String[]</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.profiles</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-run-parameters-details-skip"><a class="anchor" href="#goals-run-parameters-details-skip"></a><code>skip</code></h5>
<div class="paragraph">
<p>Skip the execution.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>skip</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.skip</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3.2</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-run-parameters-details-systemPropertyVariables"><a class="anchor" href="#goals-run-parameters-details-systemPropertyVariables"></a><code>systemPropertyVariables</code></h5>
<div class="paragraph">
<p>List of JVM system properties to pass to the process. NOTE: a forked process is required to use this feature.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>systemPropertyVariables</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.util.Map</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2.1.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-run-parameters-details-useTestClasspath"><a class="anchor" href="#goals-run-parameters-details-useTestClasspath"></a><code>useTestClasspath</code></h5>
<div class="paragraph">
<p>Flag to include the test classpath when running.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>useTestClasspath</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.Boolean</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.useTestClasspath</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-run-parameters-details-workingDirectory"><a class="anchor" href="#goals-run-parameters-details-workingDirectory"></a><code>workingDirectory</code></h5>
<div class="paragraph">
<p>Current working directory to use for the application. If not specified, basedir will be used. NOTE: a forked process is required to use this feature.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>workingDirectory</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.io.File</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.workingDirectory</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.5.0</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="run-examples"><a class="anchor" href="#run-examples"></a>7.2. 示例</h3>
<div class="sect3">
<h4 id="run-example-debug"><a class="anchor" href="#run-example-debug"></a>7.2.1. 调试应用程序</h4>
<div class="paragraph">
<p>默认情况下,<code>run</code> 目标在 forkd 进程中运行您的应用程序. 如果需要调试,则应添加必要的 JVM 参数以启用远程调试. 以下配置将挂起该进程,直到调试器在端口 5005 上加入为止:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;jvmArguments&gt;
                        -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005
                    &lt;/jvmArguments&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>这些参数也可以在命令行上指定,请确保将其正确包装,即:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mvn spring-boot:run -Dspring-boot.run.jvmArguments="-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005"</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="run-example-system-properties"><a class="anchor" href="#run-example-system-properties"></a>7.2.2. 使用系统属性</h4>
<div class="paragraph">
<p>可以使用 <code>systemPropertyVariables</code> 属性指定系统属性.以下示例将 <code>property1</code> 设置为 <code>test</code> 并将 <code>property2</code> 设置为 <code>42</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;properties&gt;
            &lt;my.value&gt;42&lt;/my.value&gt;
        &lt;/properties&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;systemPropertyVariables&gt;
                        &lt;property1&gt;test&lt;/property1&gt;
                        &lt;property2&gt;${my.value}&lt;/property2&gt;
                    &lt;/systemPropertyVariables&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果该值为空或未定义 (例如 <code>&lt;my-property/</code>&gt;) ,则将系统属性设置为空的字符串. 因为 Maven 对 pom 中指定的值进行了 trim,因此无法通过此机制指定需要以空格开头或结尾的 System 属性: 考虑改用 <code>jvmArguments</code>.</p>
</div>
<div class="paragraph">
<p>任何 String 类型的 Maven 变量都可以作为系统属性传递. 任何传递其他 Maven 变量类型 (例如 <code>List</code> 或 <code>URL</code> 变量) 的尝试都将导致变量表达式按字面值传递 (未评估) .</p>
</div>
<div class="paragraph">
<p><code>jvmArguments</code> 参数优先于上述机制定义的系统属性. 在以下示例中,<code>property1</code> 的值被覆盖:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mvn spring-boot:run -Dspring-boot.run.jvmArguments="-Dproperty1=overridden"</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="run-example-environment-variables"><a class="anchor" href="#run-example-environment-variables"></a>7.2.3. 使用环境变量</h4>
<div class="paragraph">
<p>可以使用 <code>environmentVariables</code> 属性指定环境变量.以下示例设置了 'ENV1', 'ENV2', 'ENV3', 'ENV4' env变量:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;environmentVariables&gt;
                        &lt;ENV1&gt;5000&lt;/ENV1&gt;
                        &lt;ENV2&gt;Some Text&lt;/ENV2&gt;
                        &lt;ENV3/&gt;
                        &lt;ENV4&gt;&lt;/ENV4&gt;
                    &lt;/environmentVariables&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果该值为空或未定义 (例如 <code>&lt;MY_ENV/</code>&gt;) ,<code>则将</code> env 变量设置为空的字符串. 因为 Maven 对 pom 中指定的值进行了 trim,因此无法指定需要以空格开头或结尾的 <code>env</code> 变量.</p>
</div>
<div class="paragraph">
<p>任何 String 类型的 Maven 变量都可以作为系统属性传递. 任何传递其他 Maven 变量类型 (例如 <code>List</code> 或 <code>URL</code> 变量) 的尝试都将导致变量表达式按字面值传递 (未评估) .</p>
</div>
<div class="paragraph">
<p>用这种方法定义的环境变量优先于现有值.</p>
</div>
</div>
<div class="sect3">
<h4 id="run-example-application-arguments"><a class="anchor" href="#run-example-application-arguments"></a>7.2.4. 使用应用程序参数</h4>
<div class="paragraph">
<p>可以使用 <code>arguments</code> 属性指定应用程序参数.下面的示例设置两个参数: <code>property1</code> 和 <code>property2=42</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;arguments&gt;
                        &lt;argument&gt;property1&lt;/argument&gt;
                        &lt;argument&gt;property2=${my.value}&lt;/argument&gt;
                    &lt;/arguments&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>在命令行上,参数用空格分隔,与 <code>jvmArguments</code> 相同.如果参数包含空格,请使用引号.在以下示例中,有两个参数可用: <code>property1</code> 和 <code>property2=Hello World</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mvn spring-boot:run -Dspring-boot.run.arguments="property1 'property2=Hello World'"</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="run-example-active-profiles"><a class="anchor" href="#run-example-active-profiles"></a>7.2.5. 指定激活的 Profiles</h4>
<div class="paragraph">
<p>可以使用 <code>profiles</code> 参数指定.</p>
</div>
<div class="paragraph">
<p>下面的配置启用了 <code>foo</code> 和 <code>bar</code> 配置文件:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;profiles&gt;
                        &lt;profile&gt;foo&lt;/profile&gt;
                        &lt;profile&gt;bar&lt;/profile&gt;
                    &lt;/profiles&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>也可以在命令行上指定要启用的配置文件,请确保用逗号分隔它们,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mvn spring-boot:run -Dspring-boot.run.profiles=foo,bar</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="integration-tests"><a class="anchor" href="#integration-tests"></a>8. 在集成测试中运行</h2>
<div class="sectionbody">
<div class="paragraph">
<p>尽管您可以从测试 (或测试套件) 本身非常轻松地启动 Spring Boot 应用程序,但可能需要在构建本身中进行处理. 为了确保围绕集成测试正确管理 Spring Boot 应用程序的生命周期,可以使用  <code>start</code> 和 <code>stop</code> 目标,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;id&gt;pre-integration-test&lt;/id&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;start&lt;/goal&gt;
                    &lt;/goals&gt;
                &lt;/execution&gt;
                &lt;execution&gt;
                    &lt;id&gt;post-integration-test&lt;/id&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;stop&lt;/goal&gt;
                    &lt;/goals&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>现在,这样的设置可以使用 <a href="https://maven.apache.org/surefire/maven-failsafe-plugin">failsafe-plugin</a> 按预期运行集成测试.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
默认情况下,应用程序是在单独的进程中启动的,并且使用 JMX 与应用程序进行通信. 如果需要配置 JMX 端口,请参见 <a href="#integration-tests-example-jmx-port">the dedicated example</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>您还可以配置更高级的设置,以在设置了特定属性时跳过集成测试,请参见 <a href="#integration-tests-example-skip">the dedicated example</a>.</p>
</div>
<div class="sect2">
<h3 id="integration-tests-no-starter-parent"><a class="anchor" href="#integration-tests-no-starter-parent"></a>8.1. 在没有 Spring Boot 的 Parent POM 的情况下使用故障保护</h3>
<div class="paragraph">
<p>Spring Boot&#8217;s Parent POM, <code>spring-boot-starter-parent</code>, 将 Failsafe 的 <code>&lt;classesDirectory&gt;</code> 设置为 <code>${project.build.outputDirectory}</code>.
如果没有此配置, 这将导致 Failsafe 使用已编译的类而不是重新包装的 jar,  Failsafe 无法加载您的应用程序的类.
如果您不使用 parent POM,  则应以相同的方式配置故障保护:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;
    &lt;configuration&gt;
        &lt;classesDirectory&gt;${project.build.outputDirectory}&lt;/classesDirectory&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="goals-start"><a class="anchor" href="#goals-start"></a>8.2. <code>spring-boot:start</code></h3>
<div class="paragraph">
<p><code>org.springframework.boot:spring-boot-maven-plugin:2.4.5</code></p>
</div>
<div class="paragraph">
<p>启动 spring 应用程序. 与 <code>run</code> 目标相反,这不会阻止并允许其他目标在应用程序上运行. 此目标通常用于集成测试方案中,在该方案中,应用程序在测试套件之前启动,然后在测试套件之后停止.</p>
</div>
<div class="sect3">
<h4 id="goals-start-parameters-required"><a class="anchor" href="#goals-start-parameters-required"></a>8.2.1. 必要参数</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 25%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-classesDirectory">classesDirectory</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>File</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${project.build.outputDirectory}</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="goals-start-parameters-optional"><a class="anchor" href="#goals-start-parameters-optional"></a>8.2.2. 可选参数</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 25%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-addResources">addResources</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-agents">agents</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>File[]</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-arguments">arguments</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String[]</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-commandlineArguments">commandlineArguments</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-directories">directories</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String[]</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-environmentVariables">environmentVariables</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Map</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-excludeGroupIds">excludeGroupIds</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-excludes">excludes</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>List</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-folders">folders</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String[]</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-fork">fork</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-includes">includes</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>List</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-jmxName">jmxName</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-jmxPort">jmxPort</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>int</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-jvmArguments">jvmArguments</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-mainClass">mainClass</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-maxAttempts">maxAttempts</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>int</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-noverify">noverify</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-profiles">profiles</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String[]</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-skip">skip</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-systemPropertyVariables">systemPropertyVariables</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Map</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-useTestClasspath">useTestClasspath</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-wait">wait</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>long</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-start-parameters-details-workingDirectory">workingDirectory</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>File</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="goals-start-parameters-details"><a class="anchor" href="#goals-start-parameters-details"></a>8.2.3. Parameter details</h4>
<div class="sect4">
<h5 id="goals-start-parameters-details-addResources"><a class="anchor" href="#goals-start-parameters-details-addResources"></a><code>addResources</code></h5>
<div class="paragraph">
<p>将 Maven 资源直接添加到类路径,这允许实时就地编辑资源. 如果调用 <code>ClassLoader.getResources()</code>,则从 <code>target/classes</code> 中删除重复的资源,以防止它们出现两次. 请考虑将 <code>spring-boot-devtools</code> 添加到您的项目中,因为它提供了此功能以及更多其他功能.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>addResources</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.addResources</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-agents"><a class="anchor" href="#goals-start-parameters-details-agents"></a><code>agents</code></h5>
<div class="paragraph">
<p>代理 jars 的路径.注意: 要使用此功能,需要使用 forked process .</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>agents</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.io.File[]</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.agents</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2.2.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-arguments"><a class="anchor" href="#goals-start-parameters-details-arguments"></a><code>arguments</code></h5>
<div class="paragraph">
<p>传递给应用程序的参数.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>arguments</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String[]</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-classesDirectory"><a class="anchor" href="#goals-start-parameters-details-classesDirectory"></a><code>classesDirectory</code></h5>
<div class="paragraph">
<p>包含应打包到 archive 文件中的类和资源文件的目录.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>classesDirectory</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.io.File</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${project.build.outputDirectory}</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-commandlineArguments"><a class="anchor" href="#goals-start-parameters-details-commandlineArguments"></a><code>commandlineArguments</code></h5>
<div class="paragraph">
<p>命令行中应传递给应用程序的参数.使用空格分隔多个参数,并确保在引号之间包含多个值.指定后,优先于 <code>#arguments</code>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commandlineArguments</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.arguments</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2.2.3</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-directories"><a class="anchor" href="#goals-start-parameters-details-directories"></a><code>directories</code></h5>
<div class="paragraph">
<p>除了 classes 目录之外的其他目录,应添加到类路径中.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>directories</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String[]</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.directories</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-environmentVariables"><a class="anchor" href="#goals-start-parameters-details-environmentVariables"></a><code>environmentVariables</code></h5>
<div class="paragraph">
<p>用于运行应用程序的 forked process 相关联的环境变量列表.注意: 要使用此功能,需要使用 forked process.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>environmentVariables</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.util.Map</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2.1.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-excludeGroupIds"><a class="anchor" href="#goals-start-parameters-details-excludeGroupIds"></a><code>excludeGroupIds</code></h5>
<div class="paragraph">
<p>要排除的 groupId 名称列表 (完全匹配) ,使用逗号分隔.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>excludeGroupIds</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.excludeGroupIds</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.1.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-excludes"><a class="anchor" href="#goals-start-parameters-details-excludes"></a><code>excludes</code></h5>
<div class="paragraph">
<p>要排除的组件的集合. <code>Exclude</code> 元素必需定义 <code>groupId</code> 和 <code>artifactId</code> 属性以及可选的 <code>classifier</code> 属性.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>excludes</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.util.List</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.excludes</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.1.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-folders"><a class="anchor" href="#goals-start-parameters-details-folders"></a><code>folders</code></h5>
<div class="paragraph">
<p>除了 classes 目录之外的其他目录,应添加到类路径中.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>folders</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String[]</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.folders</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-fork"><a class="anchor" href="#goals-start-parameters-details-fork"></a><code>fork</code></h5>
<div class="paragraph">
<p>是否使用 forked 的标志.如果禁用 forked 将禁用某些功能,例如代理,自定义 JVM 参数,devtools 或指定要使用的工作目录.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fork</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.fork</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.2.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-includes"><a class="anchor" href="#goals-start-parameters-details-includes"></a><code>includes</code></h5>
<div class="paragraph">
<p>要包含的组件的集合. <code>Include</code> 元素必需定义 <code>groupId</code> 和 <code>artifactId</code> 属性以及可选的 <code>classifier</code> 属性.</p>
</div>
<div class="paragraph">
<p>Collection of artifact definitions to include. The <code>Include</code> element defines mandatory <code>groupId</code> and <code>artifactId</code> properties and an optional mandatory <code>groupId</code> and <code>artifactId</code> properties and an optional <code>classifier</code> property.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>includes</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.util.List</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.includes</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.2.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-jmxName"><a class="anchor" href="#goals-start-parameters-details-jmxName"></a><code>jmxName</code></h5>
<div class="paragraph">
<p>自动部署的 MBean 的 JMX 名称,用于管理 Spring 应用程序的生命周期.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jmxName</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-jmxPort"><a class="anchor" href="#goals-start-parameters-details-jmxPort"></a><code>jmxPort</code></h5>
<div class="paragraph">
<p>如果应用程序是 forked 的,则用于暴露平台 MBeanServer 的端口.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jmxPort</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>int</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-jvmArguments"><a class="anchor" href="#goals-start-parameters-details-jvmArguments"></a><code>jvmArguments</code></h5>
<div class="paragraph">
<p>用于运行应用程序的 forked 进程相关联的 JVM 参数.在命令行上,请确保在引号之间包含多个值.注意: 要使用此功能,需要使用 forked 进程.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jvmArguments</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.jvmArguments</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.1.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-mainClass"><a class="anchor" href="#goals-start-parameters-details-mainClass"></a><code>mainClass</code></h5>
<div class="paragraph">
<p>主类的名称.如果未指定,将使用找到的第一个包含 'main' 方法的类.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mainClass</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.main-class</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-maxAttempts"><a class="anchor" href="#goals-start-parameters-details-maxAttempts"></a><code>maxAttempts</code></h5>
<div class="paragraph">
<p>检查 spring 应用程序是否准备就绪的最大尝试次数. 结合 "wait" 参数,这给出了一个全局超时值 (默认为 30 秒)</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxAttempts</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>int</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-noverify"><a class="anchor" href="#goals-start-parameters-details-noverify"></a><code>noverify</code></h5>
<div class="paragraph">
<p>标记该代理是否需要 -noverify.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>noverify</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.noverify</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.0.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-profiles"><a class="anchor" href="#goals-start-parameters-details-profiles"></a><code>profiles</code></h5>
<div class="paragraph">
<p>spring profiles 激活. 指定 'spring.profiles.active' 参数的简洁方式. 在命令行上使用逗号分隔多个配置文件.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>profiles</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String[]</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.profiles</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-skip"><a class="anchor" href="#goals-start-parameters-details-skip"></a><code>skip</code></h5>
<div class="paragraph">
<p>跳过执行.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>skip</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.skip</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3.2</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-systemPropertyVariables"><a class="anchor" href="#goals-start-parameters-details-systemPropertyVariables"></a><code>systemPropertyVariables</code></h5>
<div class="paragraph">
<p>传递给进程的 JVM 系统属性列表.注意: 要使用此功能,需要使用 forked 进程.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>systemPropertyVariables</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.util.Map</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2.1.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-useTestClasspath"><a class="anchor" href="#goals-start-parameters-details-useTestClasspath"></a><code>useTestClasspath</code></h5>
<div class="paragraph">
<p>运行时是否包括测试类路径.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>useTestClasspath</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.Boolean</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.useTestClasspath</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-wait"><a class="anchor" href="#goals-start-parameters-details-wait"></a><code>wait</code></h5>
<div class="paragraph">
<p>每次尝试检查 spring 应用程序是否准备就绪之间要等待的毫秒数.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>wait</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>long</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-start-parameters-details-workingDirectory"><a class="anchor" href="#goals-start-parameters-details-workingDirectory"></a><code>workingDirectory</code></h5>
<div class="paragraph">
<p>当前工作目录.如果未指定,将使用 basedir.注意: 要使用此功能,需要使用 forked 进程.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>workingDirectory</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.io.File</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.run.workingDirectory</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.5.0</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="goals-stop"><a class="anchor" href="#goals-stop"></a>8.3. <code>spring-boot:stop</code></h3>
<div class="paragraph">
<p><code>org.springframework.boot:spring-boot-maven-plugin:2.4.5</code></p>
</div>
<div class="paragraph">
<p>停止已通过 "start"  目标启动的应用程序.通常在测试套件完成后调用.</p>
</div>
<div class="sect3">
<h4 id="goals-stop-parameters-optional"><a class="anchor" href="#goals-stop-parameters-optional"></a>8.3.1. 可选参数</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 25%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-stop-parameters-details-fork">fork</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-stop-parameters-details-jmxName">jmxName</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-stop-parameters-details-jmxPort">jmxPort</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>int</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-stop-parameters-details-skip">skip</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="goals-stop-parameters-details"><a class="anchor" href="#goals-stop-parameters-details"></a>8.3.2. 参数细节</h4>
<div class="sect4">
<h5 id="goals-stop-parameters-details-fork"><a class="anchor" href="#goals-stop-parameters-details-fork"></a><code>fork</code></h5>
<div class="paragraph">
<p>指示停止过程是否是 forked 的标志. 默认情况下,该值是从 <code>MavenProject</code> 继承的. 如果已设置,则必须与 <code>StartMojo start</code> 过程中使用的值匹配.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fork</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.Boolean</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.stop.fork</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3.0</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-stop-parameters-details-jmxName"><a class="anchor" href="#goals-stop-parameters-details-jmxName"></a><code>jmxName</code></h5>
<div class="paragraph">
<p>自动部署的 MBean 的 JMX 名称,用于管理 Spring 应用程序的生命周期.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jmxName</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-stop-parameters-details-jmxPort"><a class="anchor" href="#goals-stop-parameters-details-jmxPort"></a><code>jmxPort</code></h5>
<div class="paragraph">
<p>如果应用程序是 forked 的,则用于暴露平台 MBeanServer 的端口.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jmxPort</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>int</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-stop-parameters-details-skip"><a class="anchor" href="#goals-stop-parameters-details-skip"></a><code>skip</code></h5>
<div class="paragraph">
<p>跳过执行.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>skip</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring-boot.stop.skip</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1.3.2</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="integration-tests-example"><a class="anchor" href="#integration-tests-example"></a>8.4. 示例</h3>
<div class="sect3">
<h4 id="integration-tests-example-random-port"><a class="anchor" href="#integration-tests-example-random-port"></a>8.4.1. 使用随机端口进行集成测试</h4>
<div class="paragraph">
<p>Spring Boot 测试集成的一个不错的功能是它可以为 Web 应用程序分配一个空闲端口. 当使用插件的 <code>start</code> 目标时,Spring Boot 应用程序将单独启动,因此很难将实际端口传递给集成测试本身.</p>
</div>
<div class="paragraph">
<p>下面的示例展示了如何使用 <a href="https://www.mojohaus.org/build-helper-maven-plugin">Build Helper Maven 插件</a> 实现相同的功能:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
                &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;reserve-tomcat-port&lt;/id&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;reserve-network-port&lt;/goal&gt;
                        &lt;/goals&gt;
                        &lt;phase&gt;process-resources&lt;/phase&gt;
                        &lt;configuration&gt;
                            &lt;portNames&gt;
                                &lt;portName&gt;tomcat.http.port&lt;/portName&gt;
                            &lt;/portNames&gt;
                        &lt;/configuration&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;pre-integration-test&lt;/id&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;start&lt;/goal&gt;
                        &lt;/goals&gt;
                        &lt;configuration&gt;
                            &lt;arguments&gt;
                                &lt;argument&gt;--server.port=${tomcat.http.port}&lt;/argument&gt;
                            &lt;/arguments&gt;
                        &lt;/configuration&gt;
                    &lt;/execution&gt;
                    &lt;execution&gt;
                        &lt;id&gt;post-integration-test&lt;/id&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;stop&lt;/goal&gt;
                        &lt;/goals&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;systemPropertyVariables&gt;
                        &lt;test.server.port&gt;${tomcat.http.port}&lt;/test.server.port&gt;
                    &lt;/systemPropertyVariables&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>现在,您可以在任何集成测试中搜索 <code>test.server.port</code>  系统属性,以创建指向服务器的正确 <code>URL</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="integration-tests-example-jmx-port"><a class="anchor" href="#integration-tests-example-jmx-port"></a>8.4.2. 自定义 JMX 端口</h4>
<div class="paragraph">
<p><code>jmxPort</code> 属性允许自定义插件用于与 Spring Boot 应用程序通信的端口.</p>
</div>
<div class="paragraph">
<p>本示例显示了在已经使用 <code>9001</code> 的情况下如何自定义端口:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;jmxPort&gt;9009&lt;/jmxPort&gt;
                &lt;/configuration&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;pre-integration-test&lt;/id&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;start&lt;/goal&gt;
                        &lt;/goals&gt;
                    &lt;/execution&gt;
                    &lt;execution&gt;
                        &lt;id&gt;post-integration-test&lt;/id&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;stop&lt;/goal&gt;
                        &lt;/goals&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
如果需要配置 JMX 端口,请确保在上述全局配置中进行配置,以便两个目标都可以共享它.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="integration-tests-example-skip"><a class="anchor" href="#integration-tests-example-skip"></a>8.4.3. 跳过集成测试</h4>
<div class="paragraph">
<p><code>skip</code> 属性允许完全跳过 Spring Boot maven 插件的执行.</p>
</div>
<div class="paragraph">
<p>此示例说明如何跳过带有命令行属性的集成测试,并仍然确保 <code>repackage</code>  目标运行:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;properties&gt;
        &lt;skip.it&gt;false&lt;/skip.it&gt;
    &lt;/properties&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;pre-integration-test&lt;/id&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;start&lt;/goal&gt;
                        &lt;/goals&gt;
                        &lt;configuration&gt;
                            &lt;skip&gt;${skip.it}&lt;/skip&gt;
                        &lt;/configuration&gt;
                    &lt;/execution&gt;
                    &lt;execution&gt;
                        &lt;id&gt;post-integration-test&lt;/id&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;stop&lt;/goal&gt;
                        &lt;/goals&gt;
                        &lt;configuration&gt;
                            &lt;skip&gt;${skip.it}&lt;/skip&gt;
                        &lt;/configuration&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;skip&gt;${skip.it}&lt;/skip&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>默认情况下,将运行集成测试,但是此设置使您可以在命令行上轻松禁用它们,如下所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mvn verify -Dskip.it=true</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="build-info"><a class="anchor" href="#build-info"></a>9. 集成 Actuator</h2>
<div class="sectionbody">
<div class="paragraph">
<p>如果存在 <code>META-INF/build-info.properties</code>  文件,Spring Boot Actuator 将显示与构建相关的信息. <code>build-info</code> 目标将生 成带有项目坐标和构建时间的文件. 它还允许您添加任意数量的其他属性,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;project&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;build-info&lt;/goal&gt;
                        &lt;/goals&gt;
                        &lt;configuration&gt;
                            &lt;additionalProperties&gt;
                                &lt;encoding.source&gt;UTF-8&lt;/encoding.source&gt;
                                &lt;encoding.reporting&gt;UTF-8&lt;/encoding.reporting&gt;
                                &lt;java.source&gt;${maven.compiler.source}&lt;/java.source&gt;
                                &lt;java.target&gt;${maven.compiler.target}&lt;/java.target&gt;
                            &lt;/additionalProperties&gt;
                        &lt;/configuration&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>此配置将在预期位置生成带有 4 个 additional keys 的 <code>build-info.properties</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>maven.compiler.source</code> 和 <code>maven.compiler.target</code> 应该是项目中可用的常规属性. 它们将按照您的期望进行插值..
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="goals-build-info"><a class="anchor" href="#goals-build-info"></a>9.1. <code>spring-boot:build-info</code></h3>
<div class="paragraph">
<p><code>org.springframework.boot:spring-boot-maven-plugin:2.4.5</code></p>
</div>
<div class="paragraph">
<p>根据 <code>MavenProject</code> 生成 <code>build-info.properties</code> 文件.</p>
</div>
<div class="sect3">
<h4 id="goals-build-info-parameters-optional"><a class="anchor" href="#goals-build-info-parameters-optional"></a>9.1.1. Optional parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 25%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-build-info-parameters-details-additionalProperties">additionalProperties</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Map</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-build-info-parameters-details-outputFile">outputFile</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>File</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${project.build.outputDirectory}/META-INF/build-info.properties</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-build-info-parameters-details-time">time</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="goals-build-info-parameters-details"><a class="anchor" href="#goals-build-info-parameters-details"></a>9.1.2. Parameter details</h4>
<div class="sect4">
<h5 id="goals-build-info-parameters-details-additionalProperties"><a class="anchor" href="#goals-build-info-parameters-details-additionalProperties"></a><code>additionalProperties</code></h5>
<div class="paragraph">
<p><code>build-info.properties</code> 文件中的其他属性. 每个条目在 <code>build-info.properties</code> 以 <code>build.</code> 为前缀.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>additionalProperties</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.util.Map</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-build-info-parameters-details-outputFile"><a class="anchor" href="#goals-build-info-parameters-details-outputFile"></a><code>outputFile</code></h5>
<div class="paragraph">
<p>生成 <code>build-info.properties</code> 文件的位置.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>outputFile</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.io.File</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${project.build.outputDirectory}/META-INF/build-info.properties</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-build-info-parameters-details-time"><a class="anchor" href="#goals-build-info-parameters-details-time"></a><code>time</code></h5>
<div class="paragraph">
<p><code>build.time</code> 属性的值,  格式为 <code>Instant#parse(CharSequence)</code>. 默认为 <code>session.request.startTime</code>. 要完全禁用 <code>build.time</code> 属性, 请使用 <code>'off'</code>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>time</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2.2.0</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="help"><a class="anchor" href="#help"></a>10. Help 信息</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>help</code>  目标是一个标准目标,显示有关插件功能的信息.</p>
</div>
<div class="sect2">
<h3 id="goals-help"><a class="anchor" href="#goals-help"></a>10.1. <code>spring-boot:help</code></h3>
<div class="paragraph">
<p><code>org.springframework.boot:spring-boot-maven-plugin:2.4.5</code></p>
</div>
<div class="paragraph">
<p>在 spring-boot-maven-plugin 上显示帮助信息.  使用 <code>mvn spring-boot:help -Ddetail=true -Dgoal=&lt;goal-name&gt;</code> 以显示参数详细信息.</p>
</div>
<div class="sect3">
<h4 id="goals-help-parameters-optional"><a class="anchor" href="#goals-help-parameters-optional"></a>10.1.1. Optional parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 25%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-help-parameters-details-detail">detail</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-help-parameters-details-goal">goal</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-help-parameters-details-indentSize">indentSize</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>int</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#goals-help-parameters-details-lineLength">lineLength</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>int</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>80</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="goals-help-parameters-details"><a class="anchor" href="#goals-help-parameters-details"></a>10.1.2. Parameter details</h4>
<div class="sect4">
<h5 id="goals-help-parameters-details-detail"><a class="anchor" href="#goals-help-parameters-details-detail"></a><code>detail</code></h5>
<div class="paragraph">
<p>如果为 <code>true</code>,  则显示每个 goal 的所有可设置属性</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>detail</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>detail</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-help-parameters-details-goal"><a class="anchor" href="#goals-help-parameters-details-goal"></a><code>goal</code></h5>
<div class="paragraph">
<p>要显示帮助的 goal 的名称.  如果未指定,  将显示所有 goals.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>goal</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>goal</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-help-parameters-details-indentSize"><a class="anchor" href="#goals-help-parameters-details-indentSize"></a><code>indentSize</code></h5>
<div class="paragraph">
<p>缩进的空格数, 应为正数.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>indentSize</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>int</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>indentSize</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="goals-help-parameters-details-lineLength"><a class="anchor" href="#goals-help-parameters-details-lineLength"></a><code>lineLength</code></h5>
<div class="paragraph">
<p>显示行的最大长度, 应为正数.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Name</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lineLength</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>int</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Default value</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>80</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">User property</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lineLength</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Since</p></th>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-09-13 16:00:07 +0800
</div>
</div>
</div>
  </div>
</div>
</body>
</html>