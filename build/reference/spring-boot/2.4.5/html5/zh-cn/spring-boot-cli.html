<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.12">
<title>Spring Boot CLI</title>
<link rel="stylesheet" href="css/site.css">
<script src="js/setup.js"></script><script defer src="js/site.js"></script>

</head>
<body id="cli" class="book toc2 toc-left"><div id="banner-container" class="container" role="banner">
  <div id="banner" class="contained" role="banner">
    <div id="switch-theme">
      <input type="checkbox" id="switch-theme-checkbox" />
      <label for="switch-theme-checkbox">Dark Theme</label>
    </div>
  </div>
</div>
<div id="tocbar-container" class="container" role="navigation">
  <div id="tocbar" class="contained" role="navigation">
    <button id="toggle-toc"></button>
  </div>
</div>
<div id="main-container" class="container">
  <div id="main" class="contained">
    <div id="doc" class="doc">
<div id="header">
<h1>Spring Boot CLI</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<span id="back-to-index"><a href="index.html">Back to index</a></span><ul class="sectlevel1">
<li><a href="#cli-installation">1. 安装 CLI</a></li>
<li><a href="#cli-using-the-cli">2. 使用 CLI</a>
<ul class="sectlevel2">
<li><a href="#cli-run">2.1. 使用 CLI 运行应用程序</a>
<ul class="sectlevel3">
<li><a href="#cli-deduced-grab-annotations">2.1.1. 推测 &#8220;grab&#8221; 依赖</a></li>
<li><a href="#cli-default-grab-deduced-coordinates">2.1.2. 推测 &#8220;grab&#8221; 坐标</a></li>
<li><a href="#cli-default-import-statements">2.1.3. 默认导入语句</a></li>
<li><a href="#cli-automatic-main-method">2.1.4. 自动创建 Main 方法</a></li>
<li><a href="#cli-default-grab-deduced-coordinates-custom-dependency-management">2.1.5. 自定义依赖管理</a></li>
</ul>
</li>
<li><a href="#cli-multiple-source-files">2.2. 具有多个源文件的应用程序</a></li>
<li><a href="#cli-jar">2.3. 打包你的应用程序</a></li>
<li><a href="#cli-init">2.4. 初始化新项目</a></li>
<li><a href="#cli-shell">2.5. 使用嵌入式 shell</a></li>
<li><a href="#cli-install-uninstall">2.6. 将扩展添加到CLI</a></li>
</ul>
</li>
<li><a href="#cli-groovy-beans-dsl">3. 使用Groovy Beans DSL开发应用程序</a></li>
<li><a href="#cli-maven-settings">4. 使用 settings.xml 配置CLI</a></li>
<li><a href="#cli-whats-next">5. 下一步</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Spring Boot CLI 是一个命令行工具,如果您想快速开发 Spring 应用程序,可以使用它.  它使您可以运行 Groovy 脚本,这意味着您具有类似 Java 的熟悉语法,而没有太多样板代码.  您还可以引导一个新项目或为其编写自己的命令.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cli-installation"><a class="anchor" href="#cli-installation"></a>1. 安装 CLI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>可以使用 SDKMAN 手动安装 Spring Boot CLI(命令行界面) (SDK Manager) 或使用 Homebrew 或 MacPorts (如果您是 OSX 用户) .  有关全面的安装说明,请参见 &#8220;Getting started&#8221;  部分中的  <em><a href="getting-started.html#getting-started-installing-the-cli">getting-started.html</a></em> .</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cli-using-the-cli"><a class="anchor" href="#cli-using-the-cli"></a>2. 使用 CLI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>安装 CLI 后,可以通过输入 <code>spring</code> 并在命令行中按 Enter 来运行它.  如果您不带任何参数运行 <code>spring</code>,则会显示一个简单的帮助屏幕,如下所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ spring
usage: spring [--help] [--version]
       &lt;command&gt; [&lt;args&gt;]

Available commands are:

  run [options] &lt;files&gt; [--] [args]
    Run a spring groovy script

  <em>... more command help is shown here</em></pre>
</div>
</div>
<div class="paragraph">
<p>您可以输入 <code>spring help</code> 以获取有关任何受支持命令的更多详细信息,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ spring help run
spring run - Run a spring groovy script

usage: spring run [options] &lt;files&gt; [--] [args]

Option                     Description
------                     -----------
--autoconfigure [Boolean]  Add autoconfigure compiler
                             transformations (default: true)
--classpath, -cp           Additional classpath entries
--no-guess-dependencies    Do not attempt to guess dependencies
--no-guess-imports         Do not attempt to guess imports
-q, --quiet                Quiet logging
-v, --verbose              Verbose logging of dependency
                             resolution
--watch                    Watch the specified file for changes</pre>
</div>
</div>
<div class="paragraph">
<p><code>version</code> 命令提供了一种快速的方法来检查您使用的 Spring Boot 版本,如下所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ spring version
Spring CLI v2.4.5</pre>
</div>
</div>
<div class="sect2">
<h3 id="cli-run"><a class="anchor" href="#cli-run"></a>2.1. 使用 CLI 运行应用程序</h3>
<div class="paragraph">
<p>您可以使用 <code>run</code> 命令来编译和运行 Groovy 源代码.  Spring Boot CLI 是完全独立的,因此您不需要任何外部 Groovy 安装.</p>
</div>
<div class="paragraph">
<p>以下示例显示了用 Groovy 编写的 &#8220;hello world&#8221; Web应用程序:</p>
</div>
<div class="listingblock">
<div class="title">hello.groovy</div>
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">@RestController
class WebApplication {

    @RequestMapping("/")
    String home() {
        "Hello World!"
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>要编译并运行该应用程序,请输入以下命令</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ spring run hello.groovy</pre>
</div>
</div>
<div class="paragraph">
<p>要将命令行参数传递给应用程序,请使用 <code>--</code> 将命令与 &#8220;spring&#8221; 命令参数分开,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ spring run hello.groovy -- --server.port=9000</pre>
</div>
</div>
<div class="paragraph">
<p>要设置 JVM 命令行参数,可以使用 <code>JAVA_OPTS</code> 环境变量,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ JAVA_OPTS=-Xmx1024m spring run hello.groovy</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
在 Microsoft Windows 上设置 <code>JAVA_OPTS</code> 时,请确保引用整个指令,例如 <code>set "JAVA_OPTS=-Xms256m -Xmx2048m"</code>.  这样做可以确保将值正确传递给流程.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="cli-deduced-grab-annotations"><a class="anchor" href="#cli-deduced-grab-annotations"></a>2.1.1. 推测 &#8220;grab&#8221; 依赖</h4>
<div class="paragraph">
<p>标准 Groovy 包含一个 <code>@Grab</code> 注解,它使您可以声明对第三方库的依赖.  Groovy 可以使用这种有用的技术以与 Maven 或 Gradle 相同的方式下载 jar,而无需使用构建工具.</p>
</div>
<div class="paragraph">
<p>Spring Boot 进一步扩展了该技术,并尝试根据您的代码推断出哪些库可以"`grab`" .  例如,由于先前显示的 <code>WebApplication</code> 代码使用 <code>@RestController</code> 注解,因此 Spring Boot 会获取 "Tomcat" 和 "Spring MVC".</p>
</div>
<div class="paragraph">
<p>以下各项用作 &#8220;grab hints&#8221;:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Items</th>
<th class="tableblock halign-left valign-top">Grabs</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JdbcTemplate</code>, <code>NamedParameterJdbcTemplate</code>, <code>DataSource</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JDBC 应用程序.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@EnableJms</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JMS Application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@EnableCaching</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Caching 抽象.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Test</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JUnit.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@EnableRabbit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RabbitMQ.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">extends <code>Specification</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spock 测试.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@EnableBatchProcessing</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spring 批处理.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@MessageEndpoint</code> <code>@EnableIntegration</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spring 集成.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Controller</code> <code>@RestController</code> <code>@EnableWebMvc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spring MVC + 嵌入式 Tomcat.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@EnableWebSecurity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spring Security.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@EnableTransactionManagement</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spring 事务管理.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
请参阅 Spring Boot CLI 源代码中的 <a href="https://github.com/spring-projects/spring-boot/blob/2.4.x/spring-boot-project/spring-boot-cli/src/main/java/org/springframework/boot/cli/compiler/CompilerAutoConfiguration.java"><code>CompilerAutoConfiguration</code></a> 的子类,以确切地了解如何应用定制.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="cli-default-grab-deduced-coordinates"><a class="anchor" href="#cli-default-grab-deduced-coordinates"></a>2.1.2. 推测 &#8220;grab&#8221; 坐标</h4>
<div class="paragraph">
<p>Spring Boot 通过允许您指定不带组或版本的依赖(例如, <code>@Grab('freemarker')</code>) 来扩展 Groovy 的标准 <code>@Grab</code> 支持.  这样做可以参考 Spring Boot 的默认依赖元数据来推断 artifacts 的组和版本.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
默认元数据与您使用的 CLI 版本相关.  仅当您移至新版本的 CLI 时,它才会更改,从而使您可以控制依赖的版本何时更改.  可以在 <a href="appendix-dependency-versions.html#dependency-versions">附录中</a>找到一个表格,其中显示了默认元数据中包含的依赖及其版本.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="cli-default-import-statements"><a class="anchor" href="#cli-default-import-statements"></a>2.1.3. 默认导入语句</h4>
<div class="paragraph">
<p>为了帮助减少 Groovy 代码的大小,将自动包含几个 <code>import</code> 语句.  请注意,前面的示例如何引用 <code>@Component</code>, <code>@RestController</code>, 和 <code>@RequestMapping</code>,而无需使用完全限定的名称或 <code>import</code> 语句.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
许多 Spring 注解无需使用 <code>import</code> 语句即可工作.  在添加导入之前,请尝试运行您的应用程序以查看失败的原因.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="cli-automatic-main-method"><a class="anchor" href="#cli-automatic-main-method"></a>2.1.4. 自动创建 Main 方法</h4>
<div class="paragraph">
<p>与等效的 Java 应用程序不同,您不需要在 Groovy 脚本中包含 <code>public static void main(String[] args)</code> 方法.  <code>SpringApplication</code> 是自动创建的,其中已编译的代码作为源.</p>
</div>
</div>
<div class="sect3">
<h4 id="cli-default-grab-deduced-coordinates-custom-dependency-management"><a class="anchor" href="#cli-default-grab-deduced-coordinates-custom-dependency-management"></a>2.1.5. 自定义依赖管理</h4>
<div class="paragraph">
<p>默认情况下,在解决 <code>@Grab</code> 依赖时,CLI 使用 <code>spring-boot-dependencies</code> 中声明的依赖管理.  可以使用 <code>@DependencyManagementBom</code> 注解 来配置其他依赖管理,这些依赖管理将覆盖默认的依赖管理.
注解的值应指定一个或多个Maven BOM的坐标 (<code>groupId:artifactId:version</code>) .</p>
</div>
<div class="paragraph">
<p>例如,考虑以下声明:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">@DependencyManagementBom("com.example.custom-bom:1.0.0")</code></pre>
</div>
</div>
<div class="paragraph">
<p>前面的声明在 <code>com/example/custom-versions/1.0.0/</code> 下的 Maven 仓库中选择了 <code>custom-bom-1.0.0.pom</code> .</p>
</div>
<div class="paragraph">
<p>指定多个 BOM 时,它们以声明它们的顺序应用,如下例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@DependencyManagementBom(["com.example.custom-bom:1.0.0",
        "com.example.another-bom:1.0.0"])
</code></pre>
</div>
</div>
<div class="paragraph">
<p>前面的示例表明, <code>another-bom</code>  中的依赖管理会覆盖 <code>custom-Bom中</code> 的依赖管理.</p>
</div>
<div class="paragraph">
<p>您可以在可以使用 <code>@Grab</code> 的任何地方使用 <code>@DependencyManagementBom</code>.  但是,为了确保依赖性管理的顺序一致,您可以在应用程序中最多使用一次 <code>@DependencyManagementBom</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cli-multiple-source-files"><a class="anchor" href="#cli-multiple-source-files"></a>2.2. 具有多个源文件的应用程序</h3>
<div class="paragraph">
<p>您可以对所有接受文件输入的命令使用 &#8220;shell globbing&#8221; .  这样可以使您从单个目录使用多个文件,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ spring run *.groovy</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cli-jar"><a class="anchor" href="#cli-jar"></a>2.3. 打包你的应用程序</h3>
<div class="paragraph">
<p>您可以使用 <code>jar</code> 命令将应用程序打包到一个独立的可执行 <code>jar</code> 文件中,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ spring jar my-app.jar *.groovy</pre>
</div>
</div>
<div class="paragraph">
<p>生成的jar包含通过编译应用程序产生的类以及应用程序的所有依赖,以便随后可以使用 <code>java -jar</code> 来运行它.  jar文件还包含来自应用程序的类路径的条目.  您可以使用 <code>--include</code> 和 <code>--exclude</code> 添加和删除 <code>jar</code> 的显式路径.
两者都用逗号分隔,并且都接受前缀 &#8220;+&#8221;  和 &#8220;-&#8221; 形式,以表示应将其从默认值中删除.  默认包括以下内容:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>public/**, resources/**, static/**, templates/**, META-INF/**, *</pre>
</div>
</div>
<div class="paragraph">
<p>默认排除项如下:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>.*, repository/**, build/**, target/**, **/*.jar, **/*.groovy</pre>
</div>
</div>
<div class="paragraph">
<p>在命令行上输入 <code>spring help jar</code> 以获取更多信息.</p>
</div>
</div>
<div class="sect2">
<h3 id="cli-init"><a class="anchor" href="#cli-init"></a>2.4. 初始化新项目</h3>
<div class="paragraph">
<p>使用 <code>init</code> 命令,可以使用 <a href="https://start.spring.io" class="bare">start.spring.io</a> 创建新项目,而无需离开 shell,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ spring init --dependencies=web,data-jpa my-project
Using service at https://start.spring.io
Project extracted to '/Users/developer/example/my-project'</pre>
</div>
</div>
<div class="paragraph">
<p>前面的示例使用 <code>my-project</code> 目录创建一个基于 Maven 的项目,该项目使用 <code>spring-boot-starter-web</code> 和 <code>spring-boot-starter-data-jpa</code>.  您可以使用 <code>--list</code> 标志列出服务的功能,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ spring init --list
=======================================
Capabilities of https://start.spring.io
=======================================

Available dependencies:
-----------------------
actuator - Actuator: Production ready features to help you monitor and manage your application
...
web - Web: Support for full-stack web development, including Tomcat and spring-webmvc
websocket - Websocket: Support for WebSocket development
ws - WS: Support for Spring Web Services

Available project types:
------------------------
gradle-build -  Gradle Config [format:build, build:gradle]
gradle-project -  Gradle Project [format:project, build:gradle]
maven-build -  Maven POM [format:build, build:maven]
maven-project -  Maven Project [format:project, build:maven] (default)

...</pre>
</div>
</div>
<div class="paragraph">
<p><code>init</code> 命令支持许多选项.  请参阅 <code>help</code>  输出以获取更多详细信息.  例如,以下命令创建一个使用 Java 8 和 <code>war</code> 打包的 Gradle 项目:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ spring init --build=gradle --java-version=1.8 --dependencies=websocket --packaging=war sample-app.zip
Using service at https://start.spring.io
Content saved to 'sample-app.zip'</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cli-shell"><a class="anchor" href="#cli-shell"></a>2.5. 使用嵌入式 shell</h3>
<div class="paragraph">
<p>Spring Boot 包含用于 BASH 和 zsh Shell 的命令行完成脚本.  如果您不使用这两个 <code>shell</code> 程序(也许您是Windows用户) ,则可以使用 shell 命令启动集成 shell 程序,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ spring shell
<strong>Spring Boot</strong> (v2.4.5)
Hit TAB to complete. Type \'help' and hit RETURN for help, and \'exit' to quit.</pre>
</div>
</div>
<div class="paragraph">
<p>在内部使用嵌入式 shell 程序,您可以直接运行其他命令:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ version
Spring CLI v2.4.5</pre>
</div>
</div>
<div class="paragraph">
<p>嵌入式 shell 支持 ANSI 颜色输出以及 <code>tab</code> 补全.  如果需要运行本地命令,则可以使用 <code>!</code> 字首.  要退出嵌入式外壳,请按 <code>ctrl-c</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="cli-install-uninstall"><a class="anchor" href="#cli-install-uninstall"></a>2.6. 将扩展添加到CLI</h3>
<div class="paragraph">
<p>您可以使用 <code>install</code> 命令将扩展添加到 CLI.  该命令采用格式为 <code>group:artifact:version</code> 的一组或多组 artifacts 坐标,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ spring install com.example:spring-boot-cli-extension:1.0.0.RELEASE</pre>
</div>
</div>
<div class="paragraph">
<p>除了安装由您提供的坐标标识的 artifacts 之外,还将安装所有 artifacts 的依赖.</p>
</div>
<div class="paragraph">
<p>要卸载依赖,请使用 <code>uninstall</code> 命令.  与install命令一样,它以 <code>group:artifact:version</code> 的格式获取一组或多组 artifacts 坐标,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ spring uninstall com.example:spring-boot-cli-extension:1.0.0.RELEASE</pre>
</div>
</div>
<div class="paragraph">
<p>它将卸载由您提供的坐标及其依赖标识的 artifacts .</p>
</div>
<div class="paragraph">
<p>要卸载所有其他依赖,可以使用 <code>--all</code> 选项,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ spring uninstall --all</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cli-groovy-beans-dsl"><a class="anchor" href="#cli-groovy-beans-dsl"></a>3. 使用Groovy Beans DSL开发应用程序</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Spring Framework 4.0 对 <code>beans{}</code> &#8220;DSL&#8221;(从 <a href="https://grails.org/">Grails</a> 来) 具有本地支持,并且您可以使用相同的格式将 bean 定义嵌入 Groovy 应用程序脚本中.  有时这是包括外部功能(如中间件声明) 的好方法,如以下示例所示:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">@Configuration(proxyBeanMethods = false)
class Application implements CommandLineRunner {

    @Autowired
    SharedService service

    @Override
    void run(String... args) {
        println service.message
    }

}

import my.company.SharedService

beans {
    service(SharedService) {
        message = "Hello World"
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>您可以将类声明与 <code>beans{}</code> 混合在同一文件中,只要它们位于顶层即可; 或者,如果愿意,可以将 bean DSL 放在单独的文件中.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cli-maven-settings"><a class="anchor" href="#cli-maven-settings"></a>4. 使用 settings.xml 配置CLI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Spring Boot CLI 使用 Maven 的依赖解析引擎 Aether 来解决依赖.  CLI使用 <code>~/.m2/settings.xml</code> 中的 Maven 配置来配置 Aether.  CLI 遵循以下配置设置:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Offline</p>
</li>
<li>
<p>Mirrors</p>
</li>
<li>
<p>Servers</p>
</li>
<li>
<p>Proxies</p>
</li>
<li>
<p>Profiles</p>
<div class="ulist">
<ul>
<li>
<p>Activation</p>
</li>
<li>
<p>Repositories</p>
</li>
</ul>
</div>
</li>
<li>
<p>Active profiles</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>有关更多信息,请参见 <a href="https://maven.apache.org/settings.html">Maven的设置文档</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cli-whats-next"><a class="anchor" href="#cli-whats-next"></a>5. 下一步</h2>
<div class="sectionbody">
<div class="paragraph">
<p>GitHub 仓库中提供了一些 <a href="https://github.com/spring-projects/spring-boot/blob/2.4.x/spring-boot-project/spring-boot-cli/samples">示例 groovy 脚本</a>,您可以使用它们来试用 Spring Boot CLI.  在整个 <a href="https://github.com/spring-projects/spring-boot/blob/2.4.x/spring-boot-project/spring-boot-cli/src/main/java/org/springframework/boot/cli">源代码</a>中也有大量的Javadoc.</p>
</div>
<div class="paragraph">
<p>如果发现达到了 CLI 工具的极限,则可能需要考虑将应用程序转换为完整的 Gradle 或 Maven 构建的 "Groovy项目".  下一部分将介绍Spring Boot的 "<a href="build-tool-plugins.html#build-tool-plugins">构建工具插件</a>",您可以将其与 Gradle 或 Maven 一起使用.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-09-13 15:54:50 +0800
</div>
</div>
</div>
  </div>
</div>
</body>
</html>