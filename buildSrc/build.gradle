plugins {
    id "java-gradle-plugin"
}

repositories {
    //加上阿里云镜像
    maven { url 'https://maven.aliyun.com/repository/central' }
    maven { url 'https://maven.aliyun.com/repository/public' }
    maven { url "https://maven.aliyun.com/repository/spring" }
    mavenCentral()
    gradlePluginPortal()
    maven { url "https://repo.spring.io/release" }
}

sourceCompatibility = 1.8
targetCompatibility = 1.8

dependencies {
    implementation("org.asciidoctor:asciidoctor-gradle-jvm:3.0.0")
    implementation("org.asciidoctor:asciidoctor-gradle-jvm-pdf:3.0.0")
    implementation("org.springframework:spring-core:5.2.2.RELEASE")
    implementation("org.springframework:spring-web:5.2.2.RELEASE")
    testImplementation("org.assertj:assertj-core:3.11.1")
    testImplementation("org.apache.logging.log4j:log4j-core:2.12.1")
    testImplementation("org.junit.jupiter:junit-jupiter:5.6.0")
}


gradlePlugin {
    plugins {
        docsPlugin {
            id = "com.jcohy.docs"
            implementationClass = "com.jcohy.docs.build.JcohyAsciidoctorPlugins"
        }
    }
}

test {
    useJUnitPlatform()
}
